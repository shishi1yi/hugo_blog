<!DOCTYPE html>
<html lang="zh" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Docker 容器 | Shaoyi&#39;s Blog</title>
<meta name="keywords" content="Docker">
<meta name="description" content="Docker的基本使用方式">
<meta name="author" content="
作者:&nbsp;shaoyi">
<link rel="canonical" href="http://shaoyi.cc/posts/blog/docker/docker/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.bb3fd15879e1b070bc3f661ad98fef35fef1f31a23b6bec0b04e5cb164937952.css" integrity="sha256-uz/RWHnhsHC8P2Ya2Y/vNf7x8xojtr7AsE5csWSTeVI=" rel="preload stylesheet" as="style">
<script defer crossorigin="anonymous" src="/assets/js/highlight.acb54fd32bbc1982428b8850317e45d076b95012730a5936667e6bc21777692a.js" integrity="sha256-rLVP0yu8GYJCi4hQMX5F0Ha5UBJzClk2Zn5rwhd3aSo="
    onload="hljs.initHighlightingOnLoad();"></script>
<link rel="icon" href="http://shaoyi.cc/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="http://shaoyi.cc/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="http://shaoyi.cc/favicon-32x32.png">
<link rel="apple-touch-icon" href="http://shaoyi.cc/apple-touch-icon.png">
<link rel="mask-icon" href="http://shaoyi.cc/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --hljs-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript><meta property="og:title" content="Docker 容器" />
<meta property="og:description" content="Docker的基本使用方式" />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://shaoyi.cc/posts/blog/docker/docker/" />
<meta property="og:image" content="http://shaoyi.cc/img/docker.png" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2020-07-04T19:18:23&#43;08:00" />
<meta property="article:modified_time" content="2022-07-04T19:18:23&#43;08:00" />

<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:image" content="http://shaoyi.cc/img/docker.png" />
<meta name="twitter:title" content="Docker 容器"/>
<meta name="twitter:description" content="Docker的基本使用方式"/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "📚文章",
      "item": "http://shaoyi.cc/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "📕技术",
      "item": "http://shaoyi.cc/posts/blog/"
    }, 
    {
      "@type": "ListItem",
      "position":  3 ,
      "name": "Docker 容器",
      "item": "http://shaoyi.cc/posts/blog/docker/docker/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Docker 容器",
  "name": "Docker 容器",
  "description": "Docker的基本使用方式",
  "keywords": [
    "Docker"
  ],
  "articleBody": "Docker安装步骤 安装Docker 安装\n帮助文档：\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 # yum安装gcc相关环境（需要确保 虚拟机可以上外网 ） yum -y install gcc yum -y install gcc-c++ #1、卸载旧的Docker版本 yum remove docker \\ docker-client \\ docker-client-latest \\ docker-common \\ docker-latest \\ docker-latest-logrotate \\ docker-logrotate \\ docker-engine #2、需要的安装包 yum install -y yum-utils #更新yum软件包索引 yum makecache fast #3、设置镜像的仓库 yum-config-manager \\ --add-repo \\ https://download.docker.com/linux/centos/docker-ce.repo #默认是国外的镜像，速度比较慢 yum-config-manager \\ --add-repo \\ http://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo #阿里云的镜像地址安装(推荐使用国内的镜像) #4、安装Docker docker-ce 社区版 ee 企业版 yum install docker-ce docker-ce-cli containerd.io #5、启用Docker systemctl start docker #6、查看是否安装成功 docker version 1 2 #7、hello-world docker run hello-world 1 2 3 4 #8、查看一下 下载的这个hello-world镜像 [root@shishiyi /]# docker images REPOSITORY TAG IMAGE ID CREATED SIZE hello-world latest bf756fb1ae65 8 months ago 13.3kB 了解：如何卸载Docker\n1 2 3 4 5 6 7 #1、卸载docker的依赖 yum remove docker-ce docker-ce-cli containerd.io #2、删除资源 rm -rf /var/lib/docker #\t/var/lib/docker 为docker的默认工作路径 阿里云镜像加速 1、找到阿里云的【容器镜像服务】——\u003e【镜像中心】——\u003e【镜像加速器】\n2、选择对应的系统配置使用\n1 2 3 4 5 6 7 8 9 10 11 sudo mkdir -p /etc/docker\t#创建目录并在目录下加入镜像配置 sudo tee /etc/docker/daemon.json \u003c\u003c-'EOF'\t{ \"registry-mirrors\": [\"https://rksuvr7q.mirror.aliyuncs.com\"] } EOF sudo systemctl daemon-reload\t#重启镜像 sudo systemctl restart docker\t#重启Docker Docker常用命令 帮助命令 1 2 3 docker version\t#显示docker的版本信息 docker info\t#显示docker的系统信息，包括镜像和容器的数量 docker 命令 --help #帮助命令 帮助文档链接：https://docs.docker.com/reference/\n镜像命令 docker images 查看所有本地的主机上的镜像\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 [root@shishiyi ~]# docker images REPOSITORY TAG IMAGE ID CREATED SIZE hello-world latest bf756fb1ae65 8 months ago 13.3kB #解释 REPOSITORY 镜像的仓库源（即名字） TAG\t镜像的标签 IMAGE ID\t镜像的id CREATED 镜像的创建时间 SIZE\t镜像的大小 #可选项 -a, --all # 列出所有镜像 -q, --quiet # 只显示镜像的id docker search\t搜索镜像\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 [root@shishiyi ~]# docker search mysql NAME DESCRIPTION STARS OFFICIAL AUTOMATED mysql MySQL is a widely used, open-source relation… 9918 [OK] mariadb MariaDB is a community-developed fork of MyS… 3629 [OK] #可选项 搜索过滤 --filter=STARS=3000\t#表示搜索出来的镜像为STARS大于3000的 [root@shishiyi ~]# docker search mysql --filter=STARS=3000 NAME DESCRIPTION STARS OFFICIAL AUTOMATED mysql MySQL is a widely used, open-source relation… 9918 [OK] mariadb MariaDB is a community-developed fork of MyS… 3629 [OK] [root@shishiyi ~]# docker search mysql --filter=STARS=4000 NAME DESCRIPTION STARS OFFICIAL AUTOMATED mysql MySQL is a widely used, open-source relation… 9918 [OK] docker pull\t下载镜像\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 #下载镜像 docker pull 镜像名称:[tag] [root@shishiyi ~]# docker pull mysql Using default tag: latest\t#如果不写tag,即版本号，默认就是latest latest: Pulling from library/mysql bf5952930446: Pull complete #分层下载，docker images的核心 联合文件系统 8254623a9871: Pull complete 938e3e06dac4: Pull complete ea28ebf28884: Pull complete f3cef38785c2: Pull complete 894f9792565a: Pull complete 1d8a57523420: Pull complete 6c676912929f: Pull complete ff39fdb566b4: Pull complete fff872988aba: Pull complete 4d34e365ae68: Pull complete 7886ee20621e: Pull complete Digest: sha256:c358e72e100ab493a0304bda35e6f239db2ec8c9bb836d8a427ac34307d074ed\t#签名 Status: Downloaded newer image for mysql:latest\tdocker.io/library/mysql:latest\t#真实地址 #等价于它 docker pull mysql docker pull docker.io/library/mysql:latest #指定版本下载 [root@shishiyi ~]# docker pull mysql:5.7 5.7: Pulling from library/mysql bf5952930446: Already exists 8254623a9871: Already exists 938e3e06dac4: Already exists ea28ebf28884: Already exists f3cef38785c2: Already exists 894f9792565a: Already exists 1d8a57523420: Already exists 5f09bf1d31c1: Pull complete 1b6ff254abe7: Pull complete 74310a0bf42d: Pull complete d398726627fd: Pull complete Digest: sha256:da58f943b94721d46e87d5de208dc07302a8b13e638cd1d24285d222376d6d84 Status: Downloaded newer image for mysql:5.7 docker.io/library/mysql:5.7 docker rmi 删除镜像\n1 2 3 [root@shishiyi ~]# docker rmi -f 镜像id\t#删除指定镜像 [root@shishiyi ~]# docker rmi -f 镜像id 镜像id 镜像id 镜像id\t#删除多个镜像id\t[root@shishiyi ~]# docker rmi -f $(docker images -aq)\t#删除全部镜像 容器命令 有镜像才能创建容器，Linux下载一个centos测试\n1 docker pull centos 新建容器并启动\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 docker run [可选参数] image # 参数说明 --name=\"Name\"\t容器名字 ，用来区分容器 -d\t后台方式运行 -it\t使用交互方式运行，进入容器查看内容 -p(小写)\t指定容器的端口，例如 -p 8080:8080 -p ip:主机端口：容器端口 -p 主机端口：容器端口（常用） -p 容器端口 容器端口 -P(大写) 随机指定端口 #测试，启动进入容器 [root@shishiyi ~]# docker run -it centos /bin/bash [root@17e6da9a3c45 /]# ls\t#查看容器内的centos,基础版，很多命令不完善的 bin etc lib\tlost+found mnt proc run srv tmp var dev home lib64 media opt root sbin sys usr 列出所有运行的容器\n1 2 3 4 5 6 7 8 9 10 11 #docker ps 命令 列出当前正在运行的容器 -a\t#列出运行过和正在运行的容器 -n=? #列出最近创建的容器 -q\t#只显示容器的编号 [root@shishiyi ~]# docker ps CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES [root@shishiyi ~]# docker ps -a CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES 17e6da9a3c45 centos \"/bin/bash\" 3 minutes ago Exited (127) 46 seconds ago relaxed_babbage f8decff51b25 bf756fb1ae65 \"/hello\" 18 hours ago Exited (0) 18 hours ago boring_curran 退出容器\n1 2 exit # 退出容器并停止 Ctrl + P + Q #退出容器且不停止 删除容器\n1 2 3 docker rm 容器id\t#删除指定容器，不能删除正在运行的容器，如果强制删除 rm -f docker rm -f $(docker ps -aq)\t#删除所有容器 docker ps -a -q|xargs docker rm\t#删除所有容器 启动和停止容器\n1 2 3 4 docker start 容器id\t#启动指定容器 docker restart 容器id\t#重启指定容器 docker stop 容器id\t#停止当前正在运行指定容器 docker kill 容器id\t#强制停止当前指定容器 其它常用命令 查看日志\n1 2 3 4 5 6 7 8 9 10 11 #命令 docker logs -f -t --tail 容器id #[root@shishiyi /]# docker ps CONTAINER ID IMAGE COMMAND CREATED STATUS 5c97ab1298f8 centos \"/bin/bash\" 6 minutes ago Up 6 minutes #例如 -tf\t#显示日志 --tail number\t#要是显示的日志条数 [root@shishiyi ~]# docker logs -tf --tail 10 5c97ab1298f8 查看容器中进程信息\n1 2 3 4 5 6 7 # 命令 docker top 容器id #例如 [root@shishiyi /]# docker top 5c97ab1298f8 UID PID PPID C STIME TTY TIME root 16042 16018 0 15:27 pts/0 00:00:00 查看镜像的元数据\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 147 148 149 150 151 152 153 154 155 156 157 158 159 160 161 162 163 164 165 166 167 168 169 170 171 172 173 174 175 176 177 178 179 180 181 182 183 184 185 186 187 188 189 190 191 192 193 194 195 196 197 198 199 200 201 202 203 204 205 206 207 #命令 docker inspect 容器id #测试 [root@shishiyi /]# docker inspect 5c97ab1298f8 [ { \"Id\": \"5c97ab1298f8820d95e8cda27ea9156e5c249ad2d90ade5d7a3d064401bf8ecb\", \"Created\": \"2020-09-01T07:27:36.571377434Z\", \"Path\": \"/bin/bash\", \"Args\": [], \"State\": { \"Status\": \"running\", \"Running\": true, \"Paused\": false, \"Restarting\": false, \"OOMKilled\": false, \"Dead\": false, \"Pid\": 16042, \"ExitCode\": 0, \"Error\": \"\", \"StartedAt\": \"2020-09-01T07:27:36.940479781Z\", \"FinishedAt\": \"0001-01-01T00:00:00Z\" }, \"Image\": \"sha256:0d120b6ccaa8c5e149176798b3501d4dd1885f961922497cd0abef155c869566\", \"ResolvConfPath\": \"/var/lib/docker/containers/5c97ab1298f8820d95e8cda27ea9156e5c249ad2d90ade5d7a3d064401bf8ecb/resolv.conf\", \"HostnamePath\": \"/var/lib/docker/containers/5c97ab1298f8820d95e8cda27ea9156e5c249ad2d90ade5d7a3d064401bf8ecb/hostname\", \"HostsPath\": \"/var/lib/docker/containers/5c97ab1298f8820d95e8cda27ea9156e5c249ad2d90ade5d7a3d064401bf8ecb/hosts\", \"LogPath\": \"/var/lib/docker/containers/5c97ab1298f8820d95e8cda27ea9156e5c249ad2d90ade5d7a3d064401bf8ecb/5c97ab1298f8820d95e8cda27ea9156e5c249ad2d90ade5d7a3d064401bf8ecb-json.log\", \"Name\": \"/nifty_margulis\", \"RestartCount\": 0, \"Driver\": \"overlay2\", \"Platform\": \"linux\", \"MountLabel\": \"\", \"ProcessLabel\": \"\", \"AppArmorProfile\": \"\", \"ExecIDs\": null, \"HostConfig\": { \"Binds\": null, \"ContainerIDFile\": \"\", \"LogConfig\": { \"Type\": \"json-file\", \"Config\": {} }, \"NetworkMode\": \"default\", \"PortBindings\": {}, \"RestartPolicy\": { \"Name\": \"no\", \"MaximumRetryCount\": 0 }, \"AutoRemove\": false, \"VolumeDriver\": \"\", \"VolumesFrom\": null, \"CapAdd\": null, \"CapDrop\": null, \"Capabilities\": null, \"Dns\": [], \"DnsOptions\": [], \"DnsSearch\": [], \"ExtraHosts\": null, \"GroupAdd\": null, \"IpcMode\": \"private\", \"Cgroup\": \"\", \"Links\": null, \"OomScoreAdj\": 0, \"PidMode\": \"\", \"Privileged\": false, \"PublishAllPorts\": false, \"ReadonlyRootfs\": false, \"SecurityOpt\": null, \"UTSMode\": \"\", \"UsernsMode\": \"\", \"ShmSize\": 67108864, \"Runtime\": \"runc\", \"ConsoleSize\": [ 0, 0 ], \"Isolation\": \"\", \"CpuShares\": 0, \"Memory\": 0, \"NanoCpus\": 0, \"CgroupParent\": \"\", \"BlkioWeight\": 0, \"BlkioWeightDevice\": [], \"BlkioDeviceReadBps\": null, \"BlkioDeviceWriteBps\": null, \"BlkioDeviceReadIOps\": null, \"BlkioDeviceWriteIOps\": null, \"CpuPeriod\": 0, \"CpuQuota\": 0, \"CpuRealtimePeriod\": 0, \"CpuRealtimeRuntime\": 0, \"CpusetCpus\": \"\", \"CpusetMems\": \"\", \"Devices\": [], \"DeviceCgroupRules\": null, \"DeviceRequests\": null, \"KernelMemory\": 0, \"KernelMemoryTCP\": 0, \"MemoryReservation\": 0, \"MemorySwap\": 0, \"MemorySwappiness\": null, \"OomKillDisable\": false, \"PidsLimit\": null, \"Ulimits\": null, \"CpuCount\": 0, \"CpuPercent\": 0, \"IOMaximumIOps\": 0, \"IOMaximumBandwidth\": 0, \"MaskedPaths\": [ \"/proc/asound\", \"/proc/acpi\", \"/proc/kcore\", \"/proc/keys\", \"/proc/latency_stats\", \"/proc/timer_list\", \"/proc/timer_stats\", \"/proc/sched_debug\", \"/proc/scsi\", \"/sys/firmware\" ], \"ReadonlyPaths\": [ \"/proc/bus\", \"/proc/fs\", \"/proc/irq\", \"/proc/sys\", \"/proc/sysrq-trigger\" ] }, \"GraphDriver\": { \"Data\": { \"LowerDir\": \"/var/lib/docker/overlay2/59787dd31a270bf3606b8f7960f91eb54aaf5926b0c940b32bc7488ac4a91edc-init/diff:/var/lib/docker/overlay2/cfd05b0bbde49a9a0c58c89767084e493d0b018ef3c1bc0220a022015610b97a/diff\", \"MergedDir\": \"/var/lib/docker/overlay2/59787dd31a270bf3606b8f7960f91eb54aaf5926b0c940b32bc7488ac4a91edc/merged\", \"UpperDir\": \"/var/lib/docker/overlay2/59787dd31a270bf3606b8f7960f91eb54aaf5926b0c940b32bc7488ac4a91edc/diff\", \"WorkDir\": \"/var/lib/docker/overlay2/59787dd31a270bf3606b8f7960f91eb54aaf5926b0c940b32bc7488ac4a91edc/work\" }, \"Name\": \"overlay2\" }, \"Mounts\": [], \"Config\": { \"Hostname\": \"5c97ab1298f8\", \"Domainname\": \"\", \"User\": \"\", \"AttachStdin\": true, \"AttachStdout\": true, \"AttachStderr\": true, \"Tty\": true, \"OpenStdin\": true, \"StdinOnce\": true, \"Env\": [ \"PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin\" ], \"Cmd\": [ \"/bin/bash\" ], \"Image\": \"centos\", \"Volumes\": null, \"WorkingDir\": \"\", \"Entrypoint\": null, \"OnBuild\": null, \"Labels\": { \"org.label-schema.build-date\": \"20200809\", \"org.label-schema.license\": \"GPLv2\", \"org.label-schema.name\": \"CentOS Base Image\", \"org.label-schema.schema-version\": \"1.0\", \"org.label-schema.vendor\": \"CentOS\" } }, \"NetworkSettings\": { \"Bridge\": \"\", \"SandboxID\": \"24dac8793fce9c49029e6f472af4e01bc23c25af31fbc8d16ce60075ad9b8b33\", \"HairpinMode\": false, \"LinkLocalIPv6Address\": \"\", \"LinkLocalIPv6PrefixLen\": 0, \"Ports\": {}, \"SandboxKey\": \"/var/run/docker/netns/24dac8793fce\", \"SecondaryIPAddresses\": null, \"SecondaryIPv6Addresses\": null, \"EndpointID\": \"51415885283d49663fb7ca11668b55ad10d433dbe170e5a0699f05f77bd5b5df\", \"Gateway\": \"172.17.0.1\", \"GlobalIPv6Address\": \"\", \"GlobalIPv6PrefixLen\": 0, \"IPAddress\": \"172.17.0.2\", \"IPPrefixLen\": 16, \"IPv6Gateway\": \"\", \"MacAddress\": \"02:42:ac:11:00:02\", \"Networks\": { \"bridge\": { \"IPAMConfig\": null, \"Links\": null, \"Aliases\": null, \"NetworkID\": \"927dcbdbe869574ba0ba3e6e0bf4012f1b67fe1f2d1f4846d8da44c96afe0d2f\", \"EndpointID\": \"51415885283d49663fb7ca11668b55ad10d433dbe170e5a0699f05f77bd5b5df\", \"Gateway\": \"172.17.0.1\", \"IPAddress\": \"172.17.0.2\", \"IPPrefixLen\": 16, \"IPv6Gateway\": \"\", \"GlobalIPv6Address\": \"\", \"GlobalIPv6PrefixLen\": 0, \"MacAddress\": \"02:42:ac:11:00:02\", \"DriverOpts\": null } } } } ] 进入当前正在运行的容器\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 #命令 docker exec -it 容器id bashShell #测试 [root@shishiyi /]# docker ps CONTAINER ID IMAGE COMMAND CREATED STATUS 5c97ab1298f8 centos \"/bin/bash\" 10 minutes ago Up 10 minutes [root@shishiyi /]# docker exec -it 5c97ab1298f8 /bin/bash [root@5c97ab1298f8 /]# ls bin dev etc home lib lib64 lost+found media mnt opt proc root run sbin srv sys tmp usr var #方式二 #命令 docker attach 容器id #测试 [root@shishiyi /]# docker attach 5c97ab1298f8 正在执行的代码....... #docker exec 是进入容器后重新开启一个终端，可以在容器里操作 #docker attach 是进入容器正在执行的终端，不会启用新的进程！ 从容器内拷贝文件到主机上\n1 2 #命令 docker cp 容器id:容器内路径 目的的主机路径 commit镜像 1 2 3 4 docker commit\t提交容器成为一个新的副本 #命令和git原理类似 docker commit -m=\"提交的描述信息\" -a=\"作者\" 容器id 目标镜像名称:[TAG] 实战测试\n1 2 3 4 5 6 7 #1、启动一个默认的tomcat容器 #2、发现默认tomcat容器是没有webapps应用的， 镜像的原因，官方的镜像默认webapps下面是没有文件的 #3、自己拷贝基本文件到webapps下 #4、然后将上述操作后的tomcat容器提交为一个镜像！之后便可以使用这个新建的镜像创建容器 容器数据卷 方式一：直接使用命令来挂载 -v\n1 2 3 4 docker run -it -v 主机目录:容器内的目录 #启动起来时候我们可以通过docker inspect 容器id 来查看挂载的目录 具名挂载和匿名挂载 1 2 3 4 5 6 7 8 9 10 11 #匿名挂载 -v 容器内路径 #-v后面只写了容器内的路径，没有写主机路径，这种就是匿名挂载 #具名挂载 -v 卷名:容器内路径 #-v后面只写了一个名字，而不是具体的主机目录，然后加上容器内路径，这种就是具名挂载 所有的docker容器内的卷，没有指定目录的情况下都是在/var/lib/docker/volumes/xxxx/_data\n我们通过具名挂载可以方便找到我们的一个卷，大多数情况是使用具名挂载\n1 2 3 4 #如何确定是具名挂载还是匿名挂载，还是指定路径挂载 -v 容器内路径\t#匿名挂载 -v 卷名:容器内路径\t#具名挂载 -v /宿主机路径:容器内路径 #指定路径挂载 拓展\n1 2 3 4 5 6 7 8 9 #\t通过 -v 容器内路径：ro rw 改变读写权限 ro\treadonly\t#只读 rw\treadwrite\t#可读可写 #\t一旦这个设置了容器权限，容器对我们挂载出来的内容就有了限定！ docker run -d -P --name nginx01 -v juming-nginx:/etc/nginx:ro nginx docker run -d -P --name nginx01 -v juming-nginx:/etc/nginx:rw nginx #ro 只要看到ro就说明这个路径只能通过宿主机来操作，容器内部是无法操作！ DockerFile构建镜像 DockerFile指令 1 2 3 4 5 6 7 8 9 10 11 12 13 FROM\t#\t基础镜像，一切从这里开始构建 MAINEAINER\t#\t镜像是谁写的，姓名+邮箱，譬如 shishiyi RUN\t#\t镜像构建的时候需要运行的命令 ADD\t#\t添加文件 WORKDIR\t#\t镜像的工作目录 VOLUME\t#\t挂载的目录 EXPOSE #\t镜像暴露的端口 CMD\t# 指定这个容器启动的时候要运行的命令，在用run命令启动容器追加命令会被替换掉 ENTRYPOINT\t#\t指定这个容器启动的时候要运行的命令，可以在run命令启动容器追加命令 ONBUILD\t#\t当构建一个被继承 DockerFile 这个时候就会运行 ONBUILD 的指令。触发命令 COPY\t#\t类似ADD，将我们文件拷贝到镜像中 ENV\t#\t构建的时候设置环境变量 LABEL\t#\t设置镜像的标签 实战测试DockerFile指令 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 # 1、编写一个自己的centos的DockerFile文件 [root@shishiyi mydockerfile]# cat mydockerfile-centos FROM centos MAINTAINER shishiyi ENV MYPATH /usr/local WORKDIR $MYPATH RUN yum -y install vim RUN yum -y install net-tools EXPOSE 80 CMD echo $MYPATH CMD echo \"----end----\" CMD /bin/bash 1 2 3 4 5 6 7 8 # 2、通过自己写的dockerfile文件构建镜像 #命令: docker build -f dockerfile文件路径 -t 镜像名:[tag] . #命令结尾一定要加空格和点 [root@shishiyi mydockerfile]# docker build -f mydockerfile-centos -t mycentos:0.1 . ......(中间省略) Successfully built 09aaf2b838b6 Successfully tagged mycentos:0.1 对比 原生的centos\n通过自己写的DockerFile文件构建镜像的centos\n1 2 3 # 可以通过命令列出一个镜像是怎么生成的，即dockerfile的命令 #命令： docker history 镜像id CMD和ENTRYPOINT的区别\n1 2 3 CMD #这个是指容器启动时要执行的命令，如果在docker run后加了命令则会覆盖CMD指令 ENTRYPOINT #这个也是容器启动时要执行的命令，使用docker run 命令启动包含ENTRYPOINT的容器，指定会作为参数传递 #如果确实有需要，也可以在运行容器时通过docker run --entrypoint 覆盖ENTRYPOINT指令 实战测试两者区别\n测试CMD\n1 2 3 4 #\t1、 编写dockerfile文件 [root@shishiyi mydockerfile]# vim mydockerfile-centos-cmdtest FROM centos CMD [\"ls\",\"-a\"] 1 2 3 4 5 6 7 8 9 10 11 #\t2、构建镜像 [root@shishiyi mydockerfile]# docker build -f mydockerfile-centos-cmdtest -t centos-cmd-test:0.1 . Sending build context to Docker daemon 3.072kB Step 1/2 : FROM centos ---\u003e 0d120b6ccaa8 Step 2/2 : CMD [\"ls\",\"-a\"] ---\u003e Running in d7ee5073447a Removing intermediate container d7ee5073447a ---\u003e adc267054d89 Successfully built adc267054d89 Successfully tagged centos-cmd-test:0.1 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 #\t3、启动容器，发现ls -a命令生效了 [root@shishiyi mydockerfile]# docker run centos-cmd-test:0.1 . .. .dockerenv bin dev etc home lib lib64 lost+found media mnt opt proc root run sbin srv sys tmp usr var #想追加一个命令 -l 变成ls -al [root@shishiyi mydockerfile]# docker run centos-cmd-test:0.1 -l docker: Error response from daemon: OCI runtime create failed: container_linux.go:349: starting container process caused \"exec: \\\"-l\\\": executable file not found in $PATH\": unknown. #CMD情况下 -l却把CMD[\"ls\", \"-a\"]指令替换了，导致不是命令报错 测试ENTRYPOINT指令\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 # 编写dockerfile文件 [root@shishiyi mydockerfile]# vim mydockerfile-centos-entrypointtest FROM centos ENTRYPOINT [\"ls\",\"-a\"] # 构建镜像 [root@shishiyi mydockerfile]# docker build -f mydockerfile-centos-entrypointtest -t centos-entrypoint-test:0.1 . Sending build context to Docker daemon 4.096kB Step 1/2 : FROM centos ---\u003e 0d120b6ccaa8 Step 2/2 : ENTRYPOINT [\"ls\",\"-a\"] ---\u003e Running in 936e7ec1e16c Removing intermediate container 936e7ec1e16c ---\u003e 68dbcdfd80a6 Successfully built 68dbcdfd80a6 Successfully tagged centos-entrypoint-test:0.1 # 启动容器 [root@shishiyi mydockerfile]# docker run centos-entrypoint-test:0.1 . .. .dockerenv bin dev etc home lib lib64 lost+found media mnt opt proc root run sbin srv sys tmp usr var #启动容器追加一个命令 -l ,发现直接拼接在了ENTRYPOINT [\"ls\",\"-a\"]指令后面 [root@shishiyi mydockerfile]# docker run centos-entrypoint-test:0.1 -l total 56 drwxr-xr-x 1 root root 4096 Sep 8 04:03 . drwxr-xr-x 1 root root 4096 Sep 8 04:03 .. -rwxr-xr-x 1 root root 0 Sep 8 04:03 .dockerenv lrwxrwxrwx 1 root root 7 May 11 2019 bin -\u003e usr/bin drwxr-xr-x 5 root root 340 Sep 8 04:03 dev drwxr-xr-x 1 root root 4096 Sep 8 04:03 etc drwxr-xr-x 2 root root 4096 May 11 2019 home lrwxrwxrwx 1 root root 7 May 11 2019 lib -\u003e usr/lib lrwxrwxrwx 1 root root 9 May 11 2019 lib64 -\u003e usr/lib64 drwx------ 2 root root 4096 Aug 9 21:40 lost+found drwxr-xr-x 2 root root 4096 May 11 2019 media drwxr-xr-x 2 root root 4096 May 11 2019 mnt drwxr-xr-x 2 root root 4096 May 11 2019 opt dr-xr-xr-x 94 root root 0 Sep 8 04:03 proc dr-xr-x--- 2 root root 4096 Aug 9 21:40 root drwxr-xr-x 11 root root 4096 Aug 9 21:40 run lrwxrwxrwx 1 root root 8 May 11 2019 sbin -\u003e usr/sbin drwxr-xr-x 2 root root 4096 May 11 2019 srv dr-xr-xr-x 13 root root 0 Sep 8 04:03 sys drwxrwxrwt 7 root root 4096 Aug 9 21:40 tmp drwxr-xr-x 12 root root 4096 Aug 9 21:40 usr drwxr-xr-x 20 root root 4096 Aug 9 21:40 var 发布镜像 到DockerHub\n在dockerhub官网注册一个账号\ndockerhub官网：https://hub.docker.com/\n登录dockerhub账号\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 [root@shishiyi mydockerfile]# docker login --help Usage:\tdocker login [OPTIONS] [SERVER] Log in to a Docker registry. If no server is specified, the default is defined by the daemon. Options: -p, --password string Password --password-stdin Take the password from stdin -u, --username string Username [root@shishiyi mydockerfile]# docker login -u shishiyi Password: WARNING! Your password will be stored unencrypted in /root/.docker/config.json. Configure a credential helper to remove this warning. See https://docs.docker.com/engine/reference/commandline/login/#credentials-store Login Succeeded 登录完毕后就可以提交自己的镜像了\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 # 推送镜像的规范是： docker push 注册用户名/镜像名:tag # 推送镜像尽量带上版本号 [root@shishiyi mydockerfile]# docker images REPOSITORY TAG IMAGE ID CREATED SIZE centos-entrypoint-test 0.1 68dbcdfd80a6 3 hours ago 215MB centos-cmd-test 0.1 adc267054d89 3 hours ago 215MB mycentos 0.1 09aaf2b838b6 4 hours ago 287MB centos latest 0d120b6ccaa8 4 weeks ago 215MB [root@shishiyi mydockerfile]# docker push shishiyi/mycentos:0.1 The push refers to repository [docker.io/shishiyi/mycentos] An image does not exist locally with the tag: shishiyi/mycentos #发现直接这样推送是不行的， 看错误An image does not exist locally with the tag: shishiyi/mycentos, #本地没有tag是shishiyi/mycentos的镜像. #解决办法，增加一个tag [root@shishiyi mydockerfile]# docker tag mycentos:0.1 shishiyi/mycentos:0.1 [root@shishiyi mydockerfile]# docker images REPOSITORY TAG IMAGE ID CREATED SIZE centos-entrypoint-test 0.1 68dbcdfd80a6 3 hours ago 215MB centos-cmd-test 0.1 adc267054d89 4 hours ago 215MB shishiyi/mycentos 0.1 09aaf2b838b6 4 hours ago 287MB mycentos 0.1 09aaf2b838b6 4 hours ago 287MB centos latest 0d120b6ccaa8 4 weeks ago 215MB 然后再推送即可，记得带上版本号！\nDocker网络（容器互联) –link(已过时) 容器之间是否可以通过名字ping通\n启动两个容器后，发现直接通过名字并不能ping通\n1 2 3 4 5 6 7 8 9 10 11 12 13 #可以使用 --link命令来解决 [root@shishiyi home]# docker run -d -P --name tomcat03 --link tomcat02 tomcat d5e88ace3eb8793c00e3441440347c2cbe52784e8771b6882edb47671631eb5f [root@shishiyi home]# docker exec -it tomcat03 ping tomcat02 PING tomcat02 (172.17.0.3) 56(84) bytes of data. 64 bytes from tomcat02 (172.17.0.3): icmp_seq=1 ttl=64 time=0.092 ms 64 bytes from tomcat02 (172.17.0.3): icmp_seq=2 ttl=64 time=0.067 ms 64 bytes from tomcat02 (172.17.0.3): icmp_seq=3 ttl=64 time=0.068 ms 64 bytes from tomcat02 (172.17.0.3): icmp_seq=4 ttl=64 time=0.072 ms #但是不能反向ping通 [root@shishiyi home]# docker exec -it tomcat02 ping tomcat03 ping: tomcat03: Name or service not known 其实这个tomcat03之所以能ping通tomcat02，本质是因为在tomcat03本地配置hosts文件\n1 2 3 4 5 6 7 8 9 10 #查看tomcat03的hosts文件 [root@shishiyi home]# docker exec -it tomcat03 cat /etc/hosts 127.0.0.1\tlocalhost ::1\tlocalhost ip6-localhost ip6-loopback fe00::0\tip6-localnet ff00::0\tip6-mcastprefix ff02::1\tip6-allnodes ff02::2\tip6-allrouters 172.17.0.3\ttomcat02 639797bb5b9b 172.17.0.4\td5e88ace3eb8 –link命令就是在hosts文件中添加了一行 172.17.0.3\ttomcat02 639797bb5b9b\n自定义网络 1 2 3 4 5 [root@shishiyi /]# docker network ls NETWORK ID NAME DRIVER SCOPE b975ebb49b23 bridge bridge local fd952cfe82a0 host host local 50c346e922df none null local 网络模式\n1 2 3 bridge：桥接docker (默认的，自己创建也是使用bridge 模式) host ：和宿主机共用网络 none ：不配置网络 docker默认使用bridge 模式即docker0，但是docker0 不支持容器之间 通过名字直接访问，所以我们可以选择另一种方式即自定义网络\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 #创建自己的网络 #\t--driver bridge 选择网络模式(不写默认为bridge) #\t--subnet 192.168.0.0/16 子网的路段 192.168.0.0/16表示从192.168.0.2到192.168.255.255 #\t--gateway 192.168.0.1\t网关地址即路由 [root@shishiyi /]# docker network create --driver bridge --subnet 192.168.0.0/16 --gateway 192.168.0.1 mynetwork 8ecbbe2766eca4f95f19cc37f731bccaa305b440834abdce4006fe6ef3e5fecb [root@shishiyi /]# docker network ls NETWORK ID NAME DRIVER SCOPE b975ebb49b23 bridge bridge local fd952cfe82a0 host host local 8ecbbe2766ec mynetwork bridge local 50c346e922df none null local 自己定义的网络就配置好了！\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 #\t创建容器时指定自己写的网关 [root@shishiyi /]# docker run -d -P --name tomcat-net-01 --net mynetwork tomcat b39086a191ca5da74eb88fce3bd27ccb5039ea36569ffc4a766b18075ea83cba [root@shishiyi /]# docker run -d -P --name tomcat-net-02 --net mynetwork tomcat 2c48396a0e18213eb913701d98d494546fa4ca7ce1ce316f04b4e7ac45d2aae7 #\t再次查看自己配置的网关 [root@shishiyi /]# docker network inspect mynetwork [ { \"Name\": \"mynetwork\", \"Id\": \"8ecbbe2766eca4f95f19cc37f731bccaa305b440834abdce4006fe6ef3e5fecb\", \"Created\": \"2020-09-08T16:56:59.25870749+08:00\", \"Scope\": \"local\", \"Driver\": \"bridge\", \"EnableIPv6\": false, \"IPAM\": { \"Driver\": \"default\", \"Options\": {}, \"Config\": [ { \"Subnet\": \"192.168.0.0/16\", \"Gateway\": \"192.168.0.1\" } ] }, \"Internal\": false, \"Attachable\": false, \"Ingress\": false, \"ConfigFrom\": { \"Network\": \"\" }, \"ConfigOnly\": false, \"Containers\": { \"2c48396a0e18213eb913701d98d494546fa4ca7ce1ce316f04b4e7ac45d2aae7\": { \"Name\": \"tomcat-net-02\", \"EndpointID\": \"7dcfa2ec9c4dc735aed6625791989ea78e8598d0a27d4540d5ef4ef9e0bfe84c\", \"MacAddress\": \"02:42:c0:a8:00:03\", \"IPv4Address\": \"192.168.0.3/16\", \"IPv6Address\": \"\" }, \"b39086a191ca5da74eb88fce3bd27ccb5039ea36569ffc4a766b18075ea83cba\": { \"Name\": \"tomcat-net-01\", \"EndpointID\": \"b988b92f99d56c415e7550c94179cd095ddd75ccb8bd7fb11454d213be6bbcab\", \"MacAddress\": \"02:42:c0:a8:00:02\", \"IPv4Address\": \"192.168.0.2/16\", \"IPv6Address\": \"\" } }, \"Options\": {}, \"Labels\": {} } ] #\t再次通过ip去ping连接 [root@shishiyi /]# docker exec -it tomcat-net-01 ping 192.168.0.3 PING 192.168.0.3 (192.168.0.3) 56(84) bytes of data. 64 bytes from 192.168.0.3: icmp_seq=1 ttl=64 time=0.073 ms 64 bytes from 192.168.0.3: icmp_seq=2 ttl=64 time=0.062 ms 64 bytes from 192.168.0.3: icmp_seq=3 ttl=64 time=0.076 ms #\t使用了自己写的网关，我们发现可以直接通过名字ping通 [root@shishiyi /]# docker exec -it tomcat-net-01 ping tomcat-net-02 PING tomcat-net-02 (192.168.0.3) 56(84) bytes of data. 64 bytes from tomcat-net-02.mynetwork (192.168.0.3): icmp_seq=1 ttl=64 time=0.060 ms 64 bytes from tomcat-net-02.mynetwork (192.168.0.3): icmp_seq=2 ttl=64 time=0.065 ms ^C --- tomcat-net-02 ping statistics --- 结论：我们自定义的网络docker已经帮我们维护好了对应的关系，所以推荐使用自定义网络的方式\n好处：\n不同的集群使用不同的网络，保证了集群的安全和健康\n网络连通 怎么办到不同的网关下的容器之间相互连通\n1 2 3 4 5 6 7 #\t测试打通docker0网络下的tomcat01 #\t连通之后就是将tomcat01放到了mynetwork网络下 # 具体命令为：docker network connect mynetwork tomcat01 #\t相当于一个容器有了两个ip地址 #\tinspect命令查看自定义网络配置，发现确定添加了其它网络下的容器进来 ",
  "wordCount" : "6532",
  "inLanguage": "zh",
  "image":"http://shaoyi.cc/img/docker.png","datePublished": "2020-07-04T19:18:23+08:00",
  "dateModified": "2022-07-04T19:18:23+08:00",
  "author":[{
    "@type": "Person",
    "name": "shaoyi"
  }],
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "http://shaoyi.cc/posts/blog/docker/docker/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Shaoyi's Blog",
    "logo": {
      "@type": "ImageObject",
      "url": "http://shaoyi.cc/favicon.ico"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="http://shaoyi.cc/" accesskey="h" title="Shaoyi&#39;s Blog (Alt + H)">Shaoyi&#39;s Blog</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="http://shaoyi.cc/" title="🏠主页">
                    <span>🏠主页</span>
                </a>
            </li>
            <li>
                <a href="http://shaoyi.cc/posts" title="📚文章">
                    <span>📚文章</span>
                </a>
            </li>
            <li>
                <a href="http://shaoyi.cc/search" title="🔍 搜索 (Alt &#43; /)" accesskey=/>
                    <span>🔍 搜索</span>
                </a>
            </li>
            <li>
                <a href="http://shaoyi.cc/archives/" title="⏱时间轴">
                    <span>⏱时间轴</span>
                </a>
            </li>
            <li>
                <a href="http://shaoyi.cc/tags/" title="🧩标签">
                    <span>🧩标签</span>
                </a>
            </li>
            <li>
                <a href="http://shaoyi.cc/about" title="🙋🏻‍♂️关于">
                    <span>🙋🏻‍♂️关于</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="http://shaoyi.cc/">主页</a>&nbsp;»&nbsp;<a href="http://shaoyi.cc/posts/">📚文章</a>&nbsp;»&nbsp;<a href="http://shaoyi.cc/posts/blog/">📕技术</a></div>
    <h1 class="post-title">
      Docker 容器
    </h1>
    <div class="post-description">
      Docker的基本使用方式
    </div>
    <div class="post-meta">









创建:&nbsp;<span title='2020-07-04 19:18:23 +0800 CST'>2020-07-04</span>&nbsp;·&nbsp;更新:&nbsp;2022-07-04&nbsp;·&nbsp;字数:&nbsp;6532字&nbsp;·&nbsp;
作者:&nbsp;shaoyi

</div>
  </header> 
<figure class="entry-cover1"><img loading="lazy" src="http://shaoyi.cc/img/docker.png" alt="">
        
</figure><aside id="toc-container" class="toc-container wide">
        <div class="toc">
            <details  open>
                <summary accesskey="c" title="(Alt + C)">
                    <span class="details">目录</span>
                </summary>

                <div class="inner"><ul>
                        <li>
                            <a href="#docker%e5%ae%89%e8%a3%85%e6%ad%a5%e9%aa%a4" aria-label="Docker安装步骤">Docker安装步骤</a><ul>
                                    
                        <li>
                            <a href="#%e5%ae%89%e8%a3%85docker" aria-label="安装Docker">安装Docker</a></li>
                        <li>
                            <a href="#%e9%98%bf%e9%87%8c%e4%ba%91%e9%95%9c%e5%83%8f%e5%8a%a0%e9%80%9f" aria-label="阿里云镜像加速">阿里云镜像加速</a></li></ul>
                        </li>
                        <li>
                            <a href="#docker%e5%b8%b8%e7%94%a8%e5%91%bd%e4%bb%a4" aria-label="Docker常用命令">Docker常用命令</a><ul>
                                    
                        <li>
                            <a href="#%e5%b8%ae%e5%8a%a9%e5%91%bd%e4%bb%a4" aria-label="帮助命令">帮助命令</a></li>
                        <li>
                            <a href="#%e9%95%9c%e5%83%8f%e5%91%bd%e4%bb%a4" aria-label="镜像命令">镜像命令</a></li>
                        <li>
                            <a href="#%e5%ae%b9%e5%99%a8%e5%91%bd%e4%bb%a4" aria-label="容器命令">容器命令</a></li>
                        <li>
                            <a href="#%e5%85%b6%e5%ae%83%e5%b8%b8%e7%94%a8%e5%91%bd%e4%bb%a4" aria-label="其它常用命令"><strong>其它常用命令</strong></a></li></ul>
                        </li>
                        <li>
                            <a href="#commit%e9%95%9c%e5%83%8f" aria-label="commit镜像">commit镜像</a></li>
                        <li>
                            <a href="#%e5%ae%b9%e5%99%a8%e6%95%b0%e6%8d%ae%e5%8d%b7" aria-label="容器数据卷">容器数据卷</a><ul>
                                    
                        <li>
                            <a href="#%e5%85%b7%e5%90%8d%e6%8c%82%e8%bd%bd%e5%92%8c%e5%8c%bf%e5%90%8d%e6%8c%82%e8%bd%bd" aria-label="具名挂载和匿名挂载">具名挂载和匿名挂载</a></li></ul>
                        </li>
                        <li>
                            <a href="#dockerfile%e6%9e%84%e5%bb%ba%e9%95%9c%e5%83%8f" aria-label="DockerFile构建镜像">DockerFile构建镜像</a><ul>
                                    
                        <li>
                            <a href="#dockerfile%e6%8c%87%e4%bb%a4" aria-label="DockerFile指令">DockerFile指令</a></li>
                        <li>
                            <a href="#%e5%ae%9e%e6%88%98%e6%b5%8b%e8%af%95dockerfile%e6%8c%87%e4%bb%a4" aria-label="实战测试DockerFile指令">实战测试DockerFile指令</a><ul>
                                    
                        <li>
                            <a href="#%e5%af%b9%e6%af%94" aria-label="对比">对比</a></li></ul>
                        </li>
                        <li>
                            <a href="#%e5%8f%91%e5%b8%83%e9%95%9c%e5%83%8f" aria-label="发布镜像">发布镜像</a></li></ul>
                        </li>
                        <li>
                            <a href="#docker%e7%bd%91%e7%bb%9c%e5%ae%b9%e5%99%a8%e4%ba%92%e8%81%94" aria-label="Docker网络（容器互联)">Docker网络（容器互联)</a><ul>
                                    
                        <li>
                            <a href="#--link%e5%b7%b2%e8%bf%87%e6%97%b6" aria-label="&amp;ndash;link(已过时)">&ndash;link(已过时)</a></li>
                        <li>
                            <a href="#%e8%87%aa%e5%ae%9a%e4%b9%89%e7%bd%91%e7%bb%9c" aria-label="自定义网络">自定义网络</a></li>
                        <li>
                            <a href="#%e7%bd%91%e7%bb%9c%e8%bf%9e%e9%80%9a" aria-label="网络连通">网络连通</a>
                        </li>
                    </ul>
                    </li>
                    </ul>
                </div>
            </details>
        </div>
    </aside>
    <script>
        let activeElement;
        let elements;
        window.addEventListener('DOMContentLoaded', function (event) {
            checkTocPosition();

            elements = document.querySelectorAll('h1[id],h2[id],h3[id],h4[id],h5[id],h6[id]');
            
            activeElement = elements[0];
            const id = encodeURI(activeElement.getAttribute('id')).toLowerCase();
            document.querySelector(`.inner ul li a[href="#${id}"]`).classList.add('active');
        }, false);

        window.addEventListener('resize', function (event) {
            checkTocPosition();
        }, false);

        window.addEventListener('scroll', () => {
            
            activeElement = Array.from(elements).find((element) => {
                if ((getOffsetTop(element) - window.pageYOffset) > 0 &&
                    (getOffsetTop(element) - window.pageYOffset) < window.innerHeight / 2) {
                    return element;
                }
            }) || activeElement

            elements.forEach(element => {
                const id = encodeURI(element.getAttribute('id')).toLowerCase();
                if (element === activeElement) {
                    document.querySelector(`.inner ul li a[href="#${id}"]`).classList.add('active');
                } else {
                    document.querySelector(`.inner ul li a[href="#${id}"]`).classList.remove('active');
                }
            })
        }, false);

        const main = parseInt(getComputedStyle(document.body).getPropertyValue('--article-width'), 10);
        const toc = parseInt(getComputedStyle(document.body).getPropertyValue('--toc-width'), 10);
        const gap = parseInt(getComputedStyle(document.body).getPropertyValue('--gap'), 10);

        function checkTocPosition() {
            const width = document.body.scrollWidth;

            if (width - main - (toc * 2) - (gap * 4) > 0) {
                document.getElementById("toc-container").classList.add("wide");
            } else {
                document.getElementById("toc-container").classList.remove("wide");
            }
        }

        function getOffsetTop(element) {
            if (!element.getClientRects().length) {
                return 0;
            }
            let rect = element.getBoundingClientRect();
            let win = element.ownerDocument.defaultView;
            return rect.top + win.pageYOffset;
        }
    </script>
  <div class="post-content"><h1 id="docker安装步骤">Docker安装步骤<a hidden class="anchor" aria-hidden="true" href="#docker安装步骤">#</a></h1>
<h2 id="安装docker">安装Docker<a hidden class="anchor" aria-hidden="true" href="#安装docker">#</a></h2>
<blockquote>
<p>安装</p>
</blockquote>
<p>帮助文档：</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">18
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">19
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">20
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">21
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">22
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">23
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">24
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">25
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">26
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">27
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">28
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">29
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">30
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">31
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">32
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">33
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">34
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">35
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">36
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">37
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">38
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#007f7f"># yum安装gcc相关环境（需要确保 虚拟机可以上外网 ）</span>
</span></span><span style="display:flex;"><span>yum -y install gcc 
</span></span><span style="display:flex;"><span>yum -y install gcc-c++
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">#1、卸载旧的Docker版本</span>
</span></span><span style="display:flex;"><span>yum remove docker <span style="color:#0ff;font-weight:bold">\
</span></span></span><span style="display:flex;"><span><span style="color:#0ff;font-weight:bold"></span>                  docker-client <span style="color:#0ff;font-weight:bold">\
</span></span></span><span style="display:flex;"><span><span style="color:#0ff;font-weight:bold"></span>                  docker-client-latest <span style="color:#0ff;font-weight:bold">\
</span></span></span><span style="display:flex;"><span><span style="color:#0ff;font-weight:bold"></span>                  docker-common <span style="color:#0ff;font-weight:bold">\
</span></span></span><span style="display:flex;"><span><span style="color:#0ff;font-weight:bold"></span>                  docker-latest <span style="color:#0ff;font-weight:bold">\
</span></span></span><span style="display:flex;"><span><span style="color:#0ff;font-weight:bold"></span>                  docker-latest-logrotate <span style="color:#0ff;font-weight:bold">\
</span></span></span><span style="display:flex;"><span><span style="color:#0ff;font-weight:bold"></span>                  docker-logrotate <span style="color:#0ff;font-weight:bold">\
</span></span></span><span style="display:flex;"><span><span style="color:#0ff;font-weight:bold"></span>                  docker-engine
</span></span><span style="display:flex;"><span>                  
</span></span><span style="display:flex;"><span><span style="color:#007f7f">#2、需要的安装包</span>
</span></span><span style="display:flex;"><span>yum install -y yum-utils
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">#更新yum软件包索引</span>
</span></span><span style="display:flex;"><span>yum makecache fast 
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">#3、设置镜像的仓库</span>
</span></span><span style="display:flex;"><span>yum-config-manager <span style="color:#0ff;font-weight:bold">\
</span></span></span><span style="display:flex;"><span><span style="color:#0ff;font-weight:bold"></span>    --add-repo <span style="color:#0ff;font-weight:bold">\
</span></span></span><span style="display:flex;"><span><span style="color:#0ff;font-weight:bold"></span>    https://download.docker.com/linux/centos/docker-ce.repo    <span style="color:#007f7f">#默认是国外的镜像，速度比较慢</span>
</span></span><span style="display:flex;"><span> 	
</span></span><span style="display:flex;"><span>yum-config-manager <span style="color:#0ff;font-weight:bold">\
</span></span></span><span style="display:flex;"><span><span style="color:#0ff;font-weight:bold"></span>    --add-repo <span style="color:#0ff;font-weight:bold">\
</span></span></span><span style="display:flex;"><span><span style="color:#0ff;font-weight:bold"></span>    http://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo    <span style="color:#007f7f">#阿里云的镜像地址安装(推荐使用国内的镜像)  </span>
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span><span style="color:#007f7f">#4、安装Docker  docker-ce 社区版 		ee 企业版  </span>
</span></span><span style="display:flex;"><span>yum install docker-ce docker-ce-cli containerd.io
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">#5、启用Docker</span>
</span></span><span style="display:flex;"><span>systemctl start docker
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">#6、查看是否安装成功</span>
</span></span><span style="display:flex;"><span>docker version
</span></span></code></pre></td></tr></table>
</div>
</div><img src="https://s1.ax1x.com/2020/08/31/dXP25j.png" alt="查看Docker是否安装成功" style="zoom:150%;" />
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#007f7f">#7、hello-world</span>
</span></span><span style="display:flex;"><span>docker run hello-world
</span></span></code></pre></td></tr></table>
</div>
</div><img src="https://s1.ax1x.com/2020/08/31/dXFU1I.png" style="zoom:150%;" />
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#007f7f">#8、查看一下 下载的这个hello-world镜像</span>
</span></span><span style="display:flex;"><span>[root@shishiyi /]<span style="color:#007f7f"># docker images</span>
</span></span><span style="display:flex;"><span>REPOSITORY          TAG                 IMAGE ID            CREATED             SIZE
</span></span><span style="display:flex;"><span>hello-world         latest              bf756fb1ae65        <span style="color:#ff0;font-weight:bold">8</span> months ago        13.3kB
</span></span></code></pre></td></tr></table>
</div>
</div><p>了解：如何卸载Docker</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">7
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#007f7f">#1、卸载docker的依赖</span>
</span></span><span style="display:flex;"><span>yum remove docker-ce docker-ce-cli containerd.io
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">#2、删除资源</span>
</span></span><span style="display:flex;"><span>rm -rf /var/lib/docker
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">#	/var/lib/docker 	为docker的默认工作路径</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="阿里云镜像加速">阿里云镜像加速<a hidden class="anchor" aria-hidden="true" href="#阿里云镜像加速">#</a></h2>
<p>1、找到阿里云的【容器镜像服务】——&gt;【镜像中心】——&gt;【镜像加速器】</p>
<img src="https://s1.ax1x.com/2020/08/31/dXnypF.png" style="zoom:150%;" />
<p>2、选择对应的系统配置使用</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>sudo mkdir -p /etc/docker	<span style="color:#007f7f">#创建目录并在目录下加入镜像配置</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>sudo tee /etc/docker/daemon.json <span style="color:#0ff;font-weight:bold">&lt;&lt;-&#39;EOF&#39;	
</span></span></span><span style="display:flex;"><span><span style="color:#0ff;font-weight:bold">{
</span></span></span><span style="display:flex;"><span><span style="color:#0ff;font-weight:bold">  &#34;registry-mirrors&#34;: [&#34;https://rksuvr7q.mirror.aliyuncs.com&#34;]
</span></span></span><span style="display:flex;"><span><span style="color:#0ff;font-weight:bold">}
</span></span></span><span style="display:flex;"><span><span style="color:#0ff;font-weight:bold">EOF</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>sudo systemctl daemon-reload	<span style="color:#007f7f">#重启镜像</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>sudo systemctl restart docker	<span style="color:#007f7f">#重启Docker</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="docker常用命令">Docker常用命令<a hidden class="anchor" aria-hidden="true" href="#docker常用命令">#</a></h1>
<h2 id="帮助命令">帮助命令<a hidden class="anchor" aria-hidden="true" href="#帮助命令">#</a></h2>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>docker version		<span style="color:#007f7f">#显示docker的版本信息</span>
</span></span><span style="display:flex;"><span>docker info			<span style="color:#007f7f">#显示docker的系统信息，包括镜像和容器的数量</span>
</span></span><span style="display:flex;"><span>docker 命令 --help   <span style="color:#007f7f">#帮助命令</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>帮助文档链接：https://docs.docker.com/reference/</p>
<h2 id="镜像命令">镜像命令<a hidden class="anchor" aria-hidden="true" href="#镜像命令">#</a></h2>
<p><strong>docker images</strong> 	<strong>查看所有本地的主机上的镜像</strong></p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>[root@shishiyi ~]<span style="color:#007f7f"># docker images</span>
</span></span><span style="display:flex;"><span>REPOSITORY          TAG                 IMAGE ID            CREATED             SIZE
</span></span><span style="display:flex;"><span>hello-world         latest              bf756fb1ae65        <span style="color:#ff0;font-weight:bold">8</span> months ago        13.3kB
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">#解释</span>
</span></span><span style="display:flex;"><span>REPOSITORY  镜像的仓库源（即名字）
</span></span><span style="display:flex;"><span>TAG			镜像的标签
</span></span><span style="display:flex;"><span>IMAGE ID	镜像的id
</span></span><span style="display:flex;"><span>CREATED 	镜像的创建时间
</span></span><span style="display:flex;"><span>SIZE		镜像的大小
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">#可选项</span>
</span></span><span style="display:flex;"><span>  -a, --all             <span style="color:#007f7f"># 列出所有镜像</span>
</span></span><span style="display:flex;"><span>  -q, --quiet           <span style="color:#007f7f"># 只显示镜像的id</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>docker search</strong>	<strong>搜索镜像</strong></p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>[root@shishiyi ~]<span style="color:#007f7f"># docker search mysql</span>
</span></span><span style="display:flex;"><span>NAME                              DESCRIPTION                                     STARS               OFFICIAL            AUTOMATED
</span></span><span style="display:flex;"><span>mysql                             MySQL is a widely used, open-source relation…   <span style="color:#ff0;font-weight:bold">9918</span>                [OK]                
</span></span><span style="display:flex;"><span>mariadb                           MariaDB is a community-developed fork of MyS…   <span style="color:#ff0;font-weight:bold">3629</span>                [OK]                
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">#可选项 搜索过滤</span>
</span></span><span style="display:flex;"><span>--filter=STARS=3000		<span style="color:#007f7f">#表示搜索出来的镜像为STARS大于3000的</span>
</span></span><span style="display:flex;"><span>[root@shishiyi ~]<span style="color:#007f7f"># docker search mysql --filter=STARS=3000</span>
</span></span><span style="display:flex;"><span>NAME                DESCRIPTION                                     STARS               OFFICIAL            AUTOMATED
</span></span><span style="display:flex;"><span>mysql               MySQL is a widely used, open-source relation…   <span style="color:#ff0;font-weight:bold">9918</span>                [OK]                
</span></span><span style="display:flex;"><span>mariadb             MariaDB is a community-developed fork of MyS…   <span style="color:#ff0;font-weight:bold">3629</span>                [OK]   
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>[root@shishiyi ~]<span style="color:#007f7f"># docker search mysql --filter=STARS=4000</span>
</span></span><span style="display:flex;"><span>NAME                DESCRIPTION                                     STARS               OFFICIAL            AUTOMATED
</span></span><span style="display:flex;"><span>mysql               MySQL is a widely used, open-source relation…   <span style="color:#ff0;font-weight:bold">9918</span>                [OK]                
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>docker pull	下载镜像</strong></p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">18
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">19
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">20
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">21
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">22
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">23
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">24
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">25
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">26
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">27
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">28
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">29
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">30
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">31
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">32
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">33
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">34
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">35
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">36
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">37
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">38
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">39
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">40
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">41
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#007f7f">#下载镜像 docker pull 镜像名称:[tag]</span>
</span></span><span style="display:flex;"><span>[root@shishiyi ~]<span style="color:#007f7f"># docker pull mysql</span>
</span></span><span style="display:flex;"><span>Using default tag: latest		<span style="color:#007f7f">#如果不写tag,即版本号，默认就是latest</span>
</span></span><span style="display:flex;"><span>latest: Pulling from library/mysql
</span></span><span style="display:flex;"><span>bf5952930446: Pull <span style="color:#fff;font-weight:bold">complete</span> 	<span style="color:#007f7f">#分层下载，docker images的核心  联合文件系统</span>
</span></span><span style="display:flex;"><span>8254623a9871: Pull <span style="color:#fff;font-weight:bold">complete</span> 
</span></span><span style="display:flex;"><span>938e3e06dac4: Pull <span style="color:#fff;font-weight:bold">complete</span> 
</span></span><span style="display:flex;"><span>ea28ebf28884: Pull <span style="color:#fff;font-weight:bold">complete</span> 
</span></span><span style="display:flex;"><span>f3cef38785c2: Pull <span style="color:#fff;font-weight:bold">complete</span> 
</span></span><span style="display:flex;"><span>894f9792565a: Pull <span style="color:#fff;font-weight:bold">complete</span> 
</span></span><span style="display:flex;"><span>1d8a57523420: Pull <span style="color:#fff;font-weight:bold">complete</span> 
</span></span><span style="display:flex;"><span>6c676912929f: Pull <span style="color:#fff;font-weight:bold">complete</span> 
</span></span><span style="display:flex;"><span>ff39fdb566b4: Pull <span style="color:#fff;font-weight:bold">complete</span> 
</span></span><span style="display:flex;"><span>fff872988aba: Pull <span style="color:#fff;font-weight:bold">complete</span> 
</span></span><span style="display:flex;"><span>4d34e365ae68: Pull <span style="color:#fff;font-weight:bold">complete</span> 
</span></span><span style="display:flex;"><span>7886ee20621e: Pull <span style="color:#fff;font-weight:bold">complete</span> 
</span></span><span style="display:flex;"><span>Digest: sha256:c358e72e100ab493a0304bda35e6f239db2ec8c9bb836d8a427ac34307d074ed		<span style="color:#007f7f">#签名</span>
</span></span><span style="display:flex;"><span>Status: Downloaded newer image <span style="color:#fff;font-weight:bold">for</span> mysql:latest	
</span></span><span style="display:flex;"><span>docker.io/library/mysql:latest		<span style="color:#007f7f">#真实地址</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">#等价于它</span>
</span></span><span style="display:flex;"><span>docker pull mysql
</span></span><span style="display:flex;"><span>docker pull docker.io/library/mysql:latest
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">#指定版本下载</span>
</span></span><span style="display:flex;"><span>[root@shishiyi ~]<span style="color:#007f7f"># docker pull mysql:5.7</span>
</span></span><span style="display:flex;"><span>5.7: Pulling from library/mysql
</span></span><span style="display:flex;"><span>bf5952930446: Already exists 
</span></span><span style="display:flex;"><span>8254623a9871: Already exists 
</span></span><span style="display:flex;"><span>938e3e06dac4: Already exists 
</span></span><span style="display:flex;"><span>ea28ebf28884: Already exists 
</span></span><span style="display:flex;"><span>f3cef38785c2: Already exists 
</span></span><span style="display:flex;"><span>894f9792565a: Already exists 
</span></span><span style="display:flex;"><span>1d8a57523420: Already exists 
</span></span><span style="display:flex;"><span>5f09bf1d31c1: Pull <span style="color:#fff;font-weight:bold">complete</span> 
</span></span><span style="display:flex;"><span>1b6ff254abe7: Pull <span style="color:#fff;font-weight:bold">complete</span> 
</span></span><span style="display:flex;"><span>74310a0bf42d: Pull <span style="color:#fff;font-weight:bold">complete</span> 
</span></span><span style="display:flex;"><span>d398726627fd: Pull <span style="color:#fff;font-weight:bold">complete</span> 
</span></span><span style="display:flex;"><span>Digest: sha256:da58f943b94721d46e87d5de208dc07302a8b13e638cd1d24285d222376d6d84
</span></span><span style="display:flex;"><span>Status: Downloaded newer image <span style="color:#fff;font-weight:bold">for</span> mysql:5.7
</span></span><span style="display:flex;"><span>docker.io/library/mysql:5.7
</span></span></code></pre></td></tr></table>
</div>
</div><img src="https://s1.ax1x.com/2020/09/01/djvVf0.png" style="zoom:150%;" />
<p><strong>docker rmi</strong> <strong>删除镜像</strong></p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>[root@shishiyi ~]<span style="color:#007f7f"># docker rmi -f 镜像id								 #删除指定镜像</span>
</span></span><span style="display:flex;"><span>[root@shishiyi ~]<span style="color:#007f7f"># docker rmi -f 镜像id 镜像id 镜像id 镜像id			 #删除多个镜像id	</span>
</span></span><span style="display:flex;"><span>[root@shishiyi ~]<span style="color:#007f7f"># docker rmi -f $(docker images -aq)				  #删除全部镜像</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="容器命令">容器命令<a hidden class="anchor" aria-hidden="true" href="#容器命令">#</a></h2>
<p><strong>有镜像才能创建容器，Linux下载一个centos测试</strong></p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>docker pull centos
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>新建容器并启动</strong></p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">18
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>docker run [可选参数] image
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># 参数说明</span>
</span></span><span style="display:flex;"><span>--name=<span style="color:#0ff;font-weight:bold">&#34;Name&#34;</span>		容器名字 ，用来区分容器
</span></span><span style="display:flex;"><span>-d					后台方式运行
</span></span><span style="display:flex;"><span>-it					使用交互方式运行，进入容器查看内容
</span></span><span style="display:flex;"><span>-p(小写)			   指定容器的端口，例如 -p 8080:8080
</span></span><span style="display:flex;"><span>	-p ip:主机端口：容器端口
</span></span><span style="display:flex;"><span>	-p 主机端口：容器端口（常用）
</span></span><span style="display:flex;"><span>	-p 容器端口
</span></span><span style="display:flex;"><span>	容器端口
</span></span><span style="display:flex;"><span>-P(大写)     		   随机指定端口
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">#测试，启动进入容器</span>
</span></span><span style="display:flex;"><span>[root@shishiyi ~]<span style="color:#007f7f"># docker run -it centos /bin/bash</span>
</span></span><span style="display:flex;"><span>[root@17e6da9a3c45 /]<span style="color:#007f7f"># ls										#查看容器内的centos,基础版，很多命令不完善的</span>
</span></span><span style="display:flex;"><span>bin  etc   lib	  lost+found  mnt  proc  run   srv  tmp  var
</span></span><span style="display:flex;"><span>dev  home  lib64  media       opt  root  sbin  sys  usr
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>列出所有运行的容器</strong></p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#007f7f">#docker ps 命令  列出当前正在运行的容器</span>
</span></span><span style="display:flex;"><span>-a				<span style="color:#007f7f">#列出运行过和正在运行的容器</span>
</span></span><span style="display:flex;"><span>-n=? 			<span style="color:#007f7f">#列出最近创建的容器</span>
</span></span><span style="display:flex;"><span>-q				<span style="color:#007f7f">#只显示容器的编号</span>
</span></span><span style="display:flex;"><span>	
</span></span><span style="display:flex;"><span>[root@shishiyi ~]<span style="color:#007f7f"># docker ps</span>
</span></span><span style="display:flex;"><span>CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS               NAMES
</span></span><span style="display:flex;"><span>[root@shishiyi ~]<span style="color:#007f7f"># docker ps -a</span>
</span></span><span style="display:flex;"><span>CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS                        PORTS               NAMES
</span></span><span style="display:flex;"><span>17e6da9a3c45        centos              <span style="color:#0ff;font-weight:bold">&#34;/bin/bash&#34;</span>         <span style="color:#ff0;font-weight:bold">3</span> minutes ago       Exited (127) <span style="color:#ff0;font-weight:bold">46</span> seconds ago                       relaxed_babbage
</span></span><span style="display:flex;"><span>f8decff51b25        bf756fb1ae65        <span style="color:#0ff;font-weight:bold">&#34;/hello&#34;</span>            <span style="color:#ff0;font-weight:bold">18</span> hours ago        Exited (0) <span style="color:#ff0;font-weight:bold">18</span> hours ago                           boring_curran
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>退出容器</strong></p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">exit</span> <span style="color:#007f7f"># 退出容器并停止</span>
</span></span><span style="display:flex;"><span>Ctrl + P + Q <span style="color:#007f7f">#退出容器且不停止</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>删除容器</strong></p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>docker rm 容器id				       <span style="color:#007f7f">#删除指定容器，不能删除正在运行的容器，如果强制删除 rm -f</span>
</span></span><span style="display:flex;"><span>docker rm -f <span style="color:#fff;font-weight:bold">$(</span>docker ps -aq<span style="color:#fff;font-weight:bold">)</span>	    <span style="color:#007f7f">#删除所有容器</span>
</span></span><span style="display:flex;"><span>docker ps -a -q|xargs docker rm		<span style="color:#007f7f">#删除所有容器</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>启动和停止容器</strong></p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>docker start 容器id		<span style="color:#007f7f">#启动指定容器</span>
</span></span><span style="display:flex;"><span>docker restart 容器id		<span style="color:#007f7f">#重启指定容器</span>
</span></span><span style="display:flex;"><span>docker stop 容器id		<span style="color:#007f7f">#停止当前正在运行指定容器</span>
</span></span><span style="display:flex;"><span>docker <span style="color:#fff;font-weight:bold">kill</span> 容器id		<span style="color:#007f7f">#强制停止当前指定容器</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="其它常用命令"><strong>其它常用命令</strong><a hidden class="anchor" aria-hidden="true" href="#其它常用命令">#</a></h2>
<p><strong>查看日志</strong></p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#007f7f">#命令</span>
</span></span><span style="display:flex;"><span>docker logs -f -t --tail 容器id
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">#[root@shishiyi /]# docker ps</span>
</span></span><span style="display:flex;"><span>CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              
</span></span><span style="display:flex;"><span>5c97ab1298f8        centos              <span style="color:#0ff;font-weight:bold">&#34;/bin/bash&#34;</span>         <span style="color:#ff0;font-weight:bold">6</span> minutes ago       Up <span style="color:#ff0;font-weight:bold">6</span> minutes                            
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">#例如</span>
</span></span><span style="display:flex;"><span>-tf				<span style="color:#007f7f">#显示日志</span>
</span></span><span style="display:flex;"><span>--tail number	<span style="color:#007f7f">#要是显示的日志条数</span>
</span></span><span style="display:flex;"><span>[root@shishiyi ~]<span style="color:#007f7f"># docker logs -tf --tail 10 5c97ab1298f8</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>查看容器中进程信息</strong></p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">7
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#007f7f"># 命令 </span>
</span></span><span style="display:flex;"><span>docker top 容器id
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">#例如</span>
</span></span><span style="display:flex;"><span>[root@shishiyi /]<span style="color:#007f7f"># docker top 5c97ab1298f8</span>
</span></span><span style="display:flex;"><span>UID                 PID                 PPID                C                   STIME               TTY                 TIME           
</span></span><span style="display:flex;"><span>root                <span style="color:#ff0;font-weight:bold">16042</span>               <span style="color:#ff0;font-weight:bold">16018</span>               <span style="color:#ff0;font-weight:bold">0</span>                   15:27               pts/0               00:00:00           
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>查看镜像的元数据</strong></p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">  1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">  2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">  3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">  4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">  5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">  6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">  7
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">  8
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">  9
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 10
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 11
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 12
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 13
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 14
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 15
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 16
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 17
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 18
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 19
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 20
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 21
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 22
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 23
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 24
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 25
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 26
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 27
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 28
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 29
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 30
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 31
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 32
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 33
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 34
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 35
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 36
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 37
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 38
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 39
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 40
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 41
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 42
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 43
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 44
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 45
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 46
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 47
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 48
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 49
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 50
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 51
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 52
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 53
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 54
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 55
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 56
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 57
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 58
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 59
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 60
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 61
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 62
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 63
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 64
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 65
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 66
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 67
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 68
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 69
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 70
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 71
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 72
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 73
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 74
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 75
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 76
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 77
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 78
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 79
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 80
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 81
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 82
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 83
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 84
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 85
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 86
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 87
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 88
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 89
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 90
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 91
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 92
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 93
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 94
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 95
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 96
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 97
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 98
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 99
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">100
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">101
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">102
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">103
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">104
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">105
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">106
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">107
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">108
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">109
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">110
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">111
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">112
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">113
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">114
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">115
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">116
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">117
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">118
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">119
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">120
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">121
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">122
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">123
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">124
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">125
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">126
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">127
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">128
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">129
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">130
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">131
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">132
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">133
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">134
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">135
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">136
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">137
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">138
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">139
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">140
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">141
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">142
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">143
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">144
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">145
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">146
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">147
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">148
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">149
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">150
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">151
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">152
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">153
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">154
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">155
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">156
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">157
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">158
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">159
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">160
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">161
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">162
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">163
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">164
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">165
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">166
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">167
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">168
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">169
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">170
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">171
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">172
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">173
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">174
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">175
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">176
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">177
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">178
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">179
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">180
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">181
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">182
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">183
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">184
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">185
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">186
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">187
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">188
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">189
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">190
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">191
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">192
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">193
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">194
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">195
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">196
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">197
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">198
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">199
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">200
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">201
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">202
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">203
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">204
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">205
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">206
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">207
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#007f7f">#命令</span>
</span></span><span style="display:flex;"><span>docker inspect 容器id
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">#测试</span>
</span></span><span style="display:flex;"><span>[root@shishiyi /]<span style="color:#007f7f"># docker inspect 5c97ab1298f8</span>
</span></span><span style="display:flex;"><span>[
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#0ff;font-weight:bold">&#34;Id&#34;</span>: <span style="color:#0ff;font-weight:bold">&#34;5c97ab1298f8820d95e8cda27ea9156e5c249ad2d90ade5d7a3d064401bf8ecb&#34;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#0ff;font-weight:bold">&#34;Created&#34;</span>: <span style="color:#0ff;font-weight:bold">&#34;2020-09-01T07:27:36.571377434Z&#34;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#0ff;font-weight:bold">&#34;Path&#34;</span>: <span style="color:#0ff;font-weight:bold">&#34;/bin/bash&#34;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#0ff;font-weight:bold">&#34;Args&#34;</span>: [],
</span></span><span style="display:flex;"><span>        <span style="color:#0ff;font-weight:bold">&#34;State&#34;</span>: {
</span></span><span style="display:flex;"><span>            <span style="color:#0ff;font-weight:bold">&#34;Status&#34;</span>: <span style="color:#0ff;font-weight:bold">&#34;running&#34;</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#0ff;font-weight:bold">&#34;Running&#34;</span>: true,
</span></span><span style="display:flex;"><span>            <span style="color:#0ff;font-weight:bold">&#34;Paused&#34;</span>: false,
</span></span><span style="display:flex;"><span>            <span style="color:#0ff;font-weight:bold">&#34;Restarting&#34;</span>: false,
</span></span><span style="display:flex;"><span>            <span style="color:#0ff;font-weight:bold">&#34;OOMKilled&#34;</span>: false,
</span></span><span style="display:flex;"><span>            <span style="color:#0ff;font-weight:bold">&#34;Dead&#34;</span>: false,
</span></span><span style="display:flex;"><span>            <span style="color:#0ff;font-weight:bold">&#34;Pid&#34;</span>: 16042,
</span></span><span style="display:flex;"><span>            <span style="color:#0ff;font-weight:bold">&#34;ExitCode&#34;</span>: 0,
</span></span><span style="display:flex;"><span>            <span style="color:#0ff;font-weight:bold">&#34;Error&#34;</span>: <span style="color:#0ff;font-weight:bold">&#34;&#34;</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#0ff;font-weight:bold">&#34;StartedAt&#34;</span>: <span style="color:#0ff;font-weight:bold">&#34;2020-09-01T07:27:36.940479781Z&#34;</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#0ff;font-weight:bold">&#34;FinishedAt&#34;</span>: <span style="color:#0ff;font-weight:bold">&#34;0001-01-01T00:00:00Z&#34;</span>
</span></span><span style="display:flex;"><span>        },
</span></span><span style="display:flex;"><span>        <span style="color:#0ff;font-weight:bold">&#34;Image&#34;</span>: <span style="color:#0ff;font-weight:bold">&#34;sha256:0d120b6ccaa8c5e149176798b3501d4dd1885f961922497cd0abef155c869566&#34;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#0ff;font-weight:bold">&#34;ResolvConfPath&#34;</span>: <span style="color:#0ff;font-weight:bold">&#34;/var/lib/docker/containers/5c97ab1298f8820d95e8cda27ea9156e5c249ad2d90ade5d7a3d064401bf8ecb/resolv.conf&#34;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#0ff;font-weight:bold">&#34;HostnamePath&#34;</span>: <span style="color:#0ff;font-weight:bold">&#34;/var/lib/docker/containers/5c97ab1298f8820d95e8cda27ea9156e5c249ad2d90ade5d7a3d064401bf8ecb/hostname&#34;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#0ff;font-weight:bold">&#34;HostsPath&#34;</span>: <span style="color:#0ff;font-weight:bold">&#34;/var/lib/docker/containers/5c97ab1298f8820d95e8cda27ea9156e5c249ad2d90ade5d7a3d064401bf8ecb/hosts&#34;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#0ff;font-weight:bold">&#34;LogPath&#34;</span>: <span style="color:#0ff;font-weight:bold">&#34;/var/lib/docker/containers/5c97ab1298f8820d95e8cda27ea9156e5c249ad2d90ade5d7a3d064401bf8ecb/5c97ab1298f8820d95e8cda27ea9156e5c249ad2d90ade5d7a3d064401bf8ecb-json.log&#34;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#0ff;font-weight:bold">&#34;Name&#34;</span>: <span style="color:#0ff;font-weight:bold">&#34;/nifty_margulis&#34;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#0ff;font-weight:bold">&#34;RestartCount&#34;</span>: 0,
</span></span><span style="display:flex;"><span>        <span style="color:#0ff;font-weight:bold">&#34;Driver&#34;</span>: <span style="color:#0ff;font-weight:bold">&#34;overlay2&#34;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#0ff;font-weight:bold">&#34;Platform&#34;</span>: <span style="color:#0ff;font-weight:bold">&#34;linux&#34;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#0ff;font-weight:bold">&#34;MountLabel&#34;</span>: <span style="color:#0ff;font-weight:bold">&#34;&#34;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#0ff;font-weight:bold">&#34;ProcessLabel&#34;</span>: <span style="color:#0ff;font-weight:bold">&#34;&#34;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#0ff;font-weight:bold">&#34;AppArmorProfile&#34;</span>: <span style="color:#0ff;font-weight:bold">&#34;&#34;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#0ff;font-weight:bold">&#34;ExecIDs&#34;</span>: null,
</span></span><span style="display:flex;"><span>        <span style="color:#0ff;font-weight:bold">&#34;HostConfig&#34;</span>: {
</span></span><span style="display:flex;"><span>            <span style="color:#0ff;font-weight:bold">&#34;Binds&#34;</span>: null,
</span></span><span style="display:flex;"><span>            <span style="color:#0ff;font-weight:bold">&#34;ContainerIDFile&#34;</span>: <span style="color:#0ff;font-weight:bold">&#34;&#34;</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#0ff;font-weight:bold">&#34;LogConfig&#34;</span>: {
</span></span><span style="display:flex;"><span>                <span style="color:#0ff;font-weight:bold">&#34;Type&#34;</span>: <span style="color:#0ff;font-weight:bold">&#34;json-file&#34;</span>,
</span></span><span style="display:flex;"><span>                <span style="color:#0ff;font-weight:bold">&#34;Config&#34;</span>: {}
</span></span><span style="display:flex;"><span>            },
</span></span><span style="display:flex;"><span>            <span style="color:#0ff;font-weight:bold">&#34;NetworkMode&#34;</span>: <span style="color:#0ff;font-weight:bold">&#34;default&#34;</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#0ff;font-weight:bold">&#34;PortBindings&#34;</span>: {},
</span></span><span style="display:flex;"><span>            <span style="color:#0ff;font-weight:bold">&#34;RestartPolicy&#34;</span>: {
</span></span><span style="display:flex;"><span>                <span style="color:#0ff;font-weight:bold">&#34;Name&#34;</span>: <span style="color:#0ff;font-weight:bold">&#34;no&#34;</span>,
</span></span><span style="display:flex;"><span>                <span style="color:#0ff;font-weight:bold">&#34;MaximumRetryCount&#34;</span>: <span style="color:#ff0;font-weight:bold">0</span>
</span></span><span style="display:flex;"><span>            },
</span></span><span style="display:flex;"><span>            <span style="color:#0ff;font-weight:bold">&#34;AutoRemove&#34;</span>: false,
</span></span><span style="display:flex;"><span>            <span style="color:#0ff;font-weight:bold">&#34;VolumeDriver&#34;</span>: <span style="color:#0ff;font-weight:bold">&#34;&#34;</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#0ff;font-weight:bold">&#34;VolumesFrom&#34;</span>: null,
</span></span><span style="display:flex;"><span>            <span style="color:#0ff;font-weight:bold">&#34;CapAdd&#34;</span>: null,
</span></span><span style="display:flex;"><span>            <span style="color:#0ff;font-weight:bold">&#34;CapDrop&#34;</span>: null,
</span></span><span style="display:flex;"><span>            <span style="color:#0ff;font-weight:bold">&#34;Capabilities&#34;</span>: null,
</span></span><span style="display:flex;"><span>            <span style="color:#0ff;font-weight:bold">&#34;Dns&#34;</span>: [],
</span></span><span style="display:flex;"><span>            <span style="color:#0ff;font-weight:bold">&#34;DnsOptions&#34;</span>: [],
</span></span><span style="display:flex;"><span>            <span style="color:#0ff;font-weight:bold">&#34;DnsSearch&#34;</span>: [],
</span></span><span style="display:flex;"><span>            <span style="color:#0ff;font-weight:bold">&#34;ExtraHosts&#34;</span>: null,
</span></span><span style="display:flex;"><span>            <span style="color:#0ff;font-weight:bold">&#34;GroupAdd&#34;</span>: null,
</span></span><span style="display:flex;"><span>            <span style="color:#0ff;font-weight:bold">&#34;IpcMode&#34;</span>: <span style="color:#0ff;font-weight:bold">&#34;private&#34;</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#0ff;font-weight:bold">&#34;Cgroup&#34;</span>: <span style="color:#0ff;font-weight:bold">&#34;&#34;</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#0ff;font-weight:bold">&#34;Links&#34;</span>: null,
</span></span><span style="display:flex;"><span>            <span style="color:#0ff;font-weight:bold">&#34;OomScoreAdj&#34;</span>: 0,
</span></span><span style="display:flex;"><span>            <span style="color:#0ff;font-weight:bold">&#34;PidMode&#34;</span>: <span style="color:#0ff;font-weight:bold">&#34;&#34;</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#0ff;font-weight:bold">&#34;Privileged&#34;</span>: false,
</span></span><span style="display:flex;"><span>            <span style="color:#0ff;font-weight:bold">&#34;PublishAllPorts&#34;</span>: false,
</span></span><span style="display:flex;"><span>            <span style="color:#0ff;font-weight:bold">&#34;ReadonlyRootfs&#34;</span>: false,
</span></span><span style="display:flex;"><span>            <span style="color:#0ff;font-weight:bold">&#34;SecurityOpt&#34;</span>: null,
</span></span><span style="display:flex;"><span>            <span style="color:#0ff;font-weight:bold">&#34;UTSMode&#34;</span>: <span style="color:#0ff;font-weight:bold">&#34;&#34;</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#0ff;font-weight:bold">&#34;UsernsMode&#34;</span>: <span style="color:#0ff;font-weight:bold">&#34;&#34;</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#0ff;font-weight:bold">&#34;ShmSize&#34;</span>: 67108864,
</span></span><span style="display:flex;"><span>            <span style="color:#0ff;font-weight:bold">&#34;Runtime&#34;</span>: <span style="color:#0ff;font-weight:bold">&#34;runc&#34;</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#0ff;font-weight:bold">&#34;ConsoleSize&#34;</span>: [
</span></span><span style="display:flex;"><span>                0,
</span></span><span style="display:flex;"><span>                <span style="color:#ff0;font-weight:bold">0</span>
</span></span><span style="display:flex;"><span>            ],
</span></span><span style="display:flex;"><span>            <span style="color:#0ff;font-weight:bold">&#34;Isolation&#34;</span>: <span style="color:#0ff;font-weight:bold">&#34;&#34;</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#0ff;font-weight:bold">&#34;CpuShares&#34;</span>: 0,
</span></span><span style="display:flex;"><span>            <span style="color:#0ff;font-weight:bold">&#34;Memory&#34;</span>: 0,
</span></span><span style="display:flex;"><span>            <span style="color:#0ff;font-weight:bold">&#34;NanoCpus&#34;</span>: 0,
</span></span><span style="display:flex;"><span>            <span style="color:#0ff;font-weight:bold">&#34;CgroupParent&#34;</span>: <span style="color:#0ff;font-weight:bold">&#34;&#34;</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#0ff;font-weight:bold">&#34;BlkioWeight&#34;</span>: 0,
</span></span><span style="display:flex;"><span>            <span style="color:#0ff;font-weight:bold">&#34;BlkioWeightDevice&#34;</span>: [],
</span></span><span style="display:flex;"><span>            <span style="color:#0ff;font-weight:bold">&#34;BlkioDeviceReadBps&#34;</span>: null,
</span></span><span style="display:flex;"><span>            <span style="color:#0ff;font-weight:bold">&#34;BlkioDeviceWriteBps&#34;</span>: null,
</span></span><span style="display:flex;"><span>            <span style="color:#0ff;font-weight:bold">&#34;BlkioDeviceReadIOps&#34;</span>: null,
</span></span><span style="display:flex;"><span>            <span style="color:#0ff;font-weight:bold">&#34;BlkioDeviceWriteIOps&#34;</span>: null,
</span></span><span style="display:flex;"><span>            <span style="color:#0ff;font-weight:bold">&#34;CpuPeriod&#34;</span>: 0,
</span></span><span style="display:flex;"><span>            <span style="color:#0ff;font-weight:bold">&#34;CpuQuota&#34;</span>: 0,
</span></span><span style="display:flex;"><span>            <span style="color:#0ff;font-weight:bold">&#34;CpuRealtimePeriod&#34;</span>: 0,
</span></span><span style="display:flex;"><span>            <span style="color:#0ff;font-weight:bold">&#34;CpuRealtimeRuntime&#34;</span>: 0,
</span></span><span style="display:flex;"><span>            <span style="color:#0ff;font-weight:bold">&#34;CpusetCpus&#34;</span>: <span style="color:#0ff;font-weight:bold">&#34;&#34;</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#0ff;font-weight:bold">&#34;CpusetMems&#34;</span>: <span style="color:#0ff;font-weight:bold">&#34;&#34;</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#0ff;font-weight:bold">&#34;Devices&#34;</span>: [],
</span></span><span style="display:flex;"><span>            <span style="color:#0ff;font-weight:bold">&#34;DeviceCgroupRules&#34;</span>: null,
</span></span><span style="display:flex;"><span>            <span style="color:#0ff;font-weight:bold">&#34;DeviceRequests&#34;</span>: null,
</span></span><span style="display:flex;"><span>            <span style="color:#0ff;font-weight:bold">&#34;KernelMemory&#34;</span>: 0,
</span></span><span style="display:flex;"><span>            <span style="color:#0ff;font-weight:bold">&#34;KernelMemoryTCP&#34;</span>: 0,
</span></span><span style="display:flex;"><span>            <span style="color:#0ff;font-weight:bold">&#34;MemoryReservation&#34;</span>: 0,
</span></span><span style="display:flex;"><span>            <span style="color:#0ff;font-weight:bold">&#34;MemorySwap&#34;</span>: 0,
</span></span><span style="display:flex;"><span>            <span style="color:#0ff;font-weight:bold">&#34;MemorySwappiness&#34;</span>: null,
</span></span><span style="display:flex;"><span>            <span style="color:#0ff;font-weight:bold">&#34;OomKillDisable&#34;</span>: false,
</span></span><span style="display:flex;"><span>            <span style="color:#0ff;font-weight:bold">&#34;PidsLimit&#34;</span>: null,
</span></span><span style="display:flex;"><span>            <span style="color:#0ff;font-weight:bold">&#34;Ulimits&#34;</span>: null,
</span></span><span style="display:flex;"><span>            <span style="color:#0ff;font-weight:bold">&#34;CpuCount&#34;</span>: 0,
</span></span><span style="display:flex;"><span>            <span style="color:#0ff;font-weight:bold">&#34;CpuPercent&#34;</span>: 0,
</span></span><span style="display:flex;"><span>            <span style="color:#0ff;font-weight:bold">&#34;IOMaximumIOps&#34;</span>: 0,
</span></span><span style="display:flex;"><span>            <span style="color:#0ff;font-weight:bold">&#34;IOMaximumBandwidth&#34;</span>: 0,
</span></span><span style="display:flex;"><span>            <span style="color:#0ff;font-weight:bold">&#34;MaskedPaths&#34;</span>: [
</span></span><span style="display:flex;"><span>                <span style="color:#0ff;font-weight:bold">&#34;/proc/asound&#34;</span>,
</span></span><span style="display:flex;"><span>                <span style="color:#0ff;font-weight:bold">&#34;/proc/acpi&#34;</span>,
</span></span><span style="display:flex;"><span>                <span style="color:#0ff;font-weight:bold">&#34;/proc/kcore&#34;</span>,
</span></span><span style="display:flex;"><span>                <span style="color:#0ff;font-weight:bold">&#34;/proc/keys&#34;</span>,
</span></span><span style="display:flex;"><span>                <span style="color:#0ff;font-weight:bold">&#34;/proc/latency_stats&#34;</span>,
</span></span><span style="display:flex;"><span>                <span style="color:#0ff;font-weight:bold">&#34;/proc/timer_list&#34;</span>,
</span></span><span style="display:flex;"><span>                <span style="color:#0ff;font-weight:bold">&#34;/proc/timer_stats&#34;</span>,
</span></span><span style="display:flex;"><span>                <span style="color:#0ff;font-weight:bold">&#34;/proc/sched_debug&#34;</span>,
</span></span><span style="display:flex;"><span>                <span style="color:#0ff;font-weight:bold">&#34;/proc/scsi&#34;</span>,
</span></span><span style="display:flex;"><span>                <span style="color:#0ff;font-weight:bold">&#34;/sys/firmware&#34;</span>
</span></span><span style="display:flex;"><span>            ],
</span></span><span style="display:flex;"><span>            <span style="color:#0ff;font-weight:bold">&#34;ReadonlyPaths&#34;</span>: [
</span></span><span style="display:flex;"><span>                <span style="color:#0ff;font-weight:bold">&#34;/proc/bus&#34;</span>,
</span></span><span style="display:flex;"><span>                <span style="color:#0ff;font-weight:bold">&#34;/proc/fs&#34;</span>,
</span></span><span style="display:flex;"><span>                <span style="color:#0ff;font-weight:bold">&#34;/proc/irq&#34;</span>,
</span></span><span style="display:flex;"><span>                <span style="color:#0ff;font-weight:bold">&#34;/proc/sys&#34;</span>,
</span></span><span style="display:flex;"><span>                <span style="color:#0ff;font-weight:bold">&#34;/proc/sysrq-trigger&#34;</span>
</span></span><span style="display:flex;"><span>            ]
</span></span><span style="display:flex;"><span>        },
</span></span><span style="display:flex;"><span>        <span style="color:#0ff;font-weight:bold">&#34;GraphDriver&#34;</span>: {
</span></span><span style="display:flex;"><span>            <span style="color:#0ff;font-weight:bold">&#34;Data&#34;</span>: {
</span></span><span style="display:flex;"><span>                <span style="color:#0ff;font-weight:bold">&#34;LowerDir&#34;</span>: <span style="color:#0ff;font-weight:bold">&#34;/var/lib/docker/overlay2/59787dd31a270bf3606b8f7960f91eb54aaf5926b0c940b32bc7488ac4a91edc-init/diff:/var/lib/docker/overlay2/cfd05b0bbde49a9a0c58c89767084e493d0b018ef3c1bc0220a022015610b97a/diff&#34;</span>,
</span></span><span style="display:flex;"><span>                <span style="color:#0ff;font-weight:bold">&#34;MergedDir&#34;</span>: <span style="color:#0ff;font-weight:bold">&#34;/var/lib/docker/overlay2/59787dd31a270bf3606b8f7960f91eb54aaf5926b0c940b32bc7488ac4a91edc/merged&#34;</span>,
</span></span><span style="display:flex;"><span>                <span style="color:#0ff;font-weight:bold">&#34;UpperDir&#34;</span>: <span style="color:#0ff;font-weight:bold">&#34;/var/lib/docker/overlay2/59787dd31a270bf3606b8f7960f91eb54aaf5926b0c940b32bc7488ac4a91edc/diff&#34;</span>,
</span></span><span style="display:flex;"><span>                <span style="color:#0ff;font-weight:bold">&#34;WorkDir&#34;</span>: <span style="color:#0ff;font-weight:bold">&#34;/var/lib/docker/overlay2/59787dd31a270bf3606b8f7960f91eb54aaf5926b0c940b32bc7488ac4a91edc/work&#34;</span>
</span></span><span style="display:flex;"><span>            },
</span></span><span style="display:flex;"><span>            <span style="color:#0ff;font-weight:bold">&#34;Name&#34;</span>: <span style="color:#0ff;font-weight:bold">&#34;overlay2&#34;</span>
</span></span><span style="display:flex;"><span>        },
</span></span><span style="display:flex;"><span>        <span style="color:#0ff;font-weight:bold">&#34;Mounts&#34;</span>: [],
</span></span><span style="display:flex;"><span>        <span style="color:#0ff;font-weight:bold">&#34;Config&#34;</span>: {
</span></span><span style="display:flex;"><span>            <span style="color:#0ff;font-weight:bold">&#34;Hostname&#34;</span>: <span style="color:#0ff;font-weight:bold">&#34;5c97ab1298f8&#34;</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#0ff;font-weight:bold">&#34;Domainname&#34;</span>: <span style="color:#0ff;font-weight:bold">&#34;&#34;</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#0ff;font-weight:bold">&#34;User&#34;</span>: <span style="color:#0ff;font-weight:bold">&#34;&#34;</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#0ff;font-weight:bold">&#34;AttachStdin&#34;</span>: true,
</span></span><span style="display:flex;"><span>            <span style="color:#0ff;font-weight:bold">&#34;AttachStdout&#34;</span>: true,
</span></span><span style="display:flex;"><span>            <span style="color:#0ff;font-weight:bold">&#34;AttachStderr&#34;</span>: true,
</span></span><span style="display:flex;"><span>            <span style="color:#0ff;font-weight:bold">&#34;Tty&#34;</span>: true,
</span></span><span style="display:flex;"><span>            <span style="color:#0ff;font-weight:bold">&#34;OpenStdin&#34;</span>: true,
</span></span><span style="display:flex;"><span>            <span style="color:#0ff;font-weight:bold">&#34;StdinOnce&#34;</span>: true,
</span></span><span style="display:flex;"><span>            <span style="color:#0ff;font-weight:bold">&#34;Env&#34;</span>: [
</span></span><span style="display:flex;"><span>                <span style="color:#0ff;font-weight:bold">&#34;PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin&#34;</span>
</span></span><span style="display:flex;"><span>            ],
</span></span><span style="display:flex;"><span>            <span style="color:#0ff;font-weight:bold">&#34;Cmd&#34;</span>: [
</span></span><span style="display:flex;"><span>                <span style="color:#0ff;font-weight:bold">&#34;/bin/bash&#34;</span>
</span></span><span style="display:flex;"><span>            ],
</span></span><span style="display:flex;"><span>            <span style="color:#0ff;font-weight:bold">&#34;Image&#34;</span>: <span style="color:#0ff;font-weight:bold">&#34;centos&#34;</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#0ff;font-weight:bold">&#34;Volumes&#34;</span>: null,
</span></span><span style="display:flex;"><span>            <span style="color:#0ff;font-weight:bold">&#34;WorkingDir&#34;</span>: <span style="color:#0ff;font-weight:bold">&#34;&#34;</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#0ff;font-weight:bold">&#34;Entrypoint&#34;</span>: null,
</span></span><span style="display:flex;"><span>            <span style="color:#0ff;font-weight:bold">&#34;OnBuild&#34;</span>: null,
</span></span><span style="display:flex;"><span>            <span style="color:#0ff;font-weight:bold">&#34;Labels&#34;</span>: {
</span></span><span style="display:flex;"><span>                <span style="color:#0ff;font-weight:bold">&#34;org.label-schema.build-date&#34;</span>: <span style="color:#0ff;font-weight:bold">&#34;20200809&#34;</span>,
</span></span><span style="display:flex;"><span>                <span style="color:#0ff;font-weight:bold">&#34;org.label-schema.license&#34;</span>: <span style="color:#0ff;font-weight:bold">&#34;GPLv2&#34;</span>,
</span></span><span style="display:flex;"><span>                <span style="color:#0ff;font-weight:bold">&#34;org.label-schema.name&#34;</span>: <span style="color:#0ff;font-weight:bold">&#34;CentOS Base Image&#34;</span>,
</span></span><span style="display:flex;"><span>                <span style="color:#0ff;font-weight:bold">&#34;org.label-schema.schema-version&#34;</span>: <span style="color:#0ff;font-weight:bold">&#34;1.0&#34;</span>,
</span></span><span style="display:flex;"><span>                <span style="color:#0ff;font-weight:bold">&#34;org.label-schema.vendor&#34;</span>: <span style="color:#0ff;font-weight:bold">&#34;CentOS&#34;</span>
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        },
</span></span><span style="display:flex;"><span>        <span style="color:#0ff;font-weight:bold">&#34;NetworkSettings&#34;</span>: {
</span></span><span style="display:flex;"><span>            <span style="color:#0ff;font-weight:bold">&#34;Bridge&#34;</span>: <span style="color:#0ff;font-weight:bold">&#34;&#34;</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#0ff;font-weight:bold">&#34;SandboxID&#34;</span>: <span style="color:#0ff;font-weight:bold">&#34;24dac8793fce9c49029e6f472af4e01bc23c25af31fbc8d16ce60075ad9b8b33&#34;</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#0ff;font-weight:bold">&#34;HairpinMode&#34;</span>: false,
</span></span><span style="display:flex;"><span>            <span style="color:#0ff;font-weight:bold">&#34;LinkLocalIPv6Address&#34;</span>: <span style="color:#0ff;font-weight:bold">&#34;&#34;</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#0ff;font-weight:bold">&#34;LinkLocalIPv6PrefixLen&#34;</span>: 0,
</span></span><span style="display:flex;"><span>            <span style="color:#0ff;font-weight:bold">&#34;Ports&#34;</span>: {},
</span></span><span style="display:flex;"><span>            <span style="color:#0ff;font-weight:bold">&#34;SandboxKey&#34;</span>: <span style="color:#0ff;font-weight:bold">&#34;/var/run/docker/netns/24dac8793fce&#34;</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#0ff;font-weight:bold">&#34;SecondaryIPAddresses&#34;</span>: null,
</span></span><span style="display:flex;"><span>            <span style="color:#0ff;font-weight:bold">&#34;SecondaryIPv6Addresses&#34;</span>: null,
</span></span><span style="display:flex;"><span>            <span style="color:#0ff;font-weight:bold">&#34;EndpointID&#34;</span>: <span style="color:#0ff;font-weight:bold">&#34;51415885283d49663fb7ca11668b55ad10d433dbe170e5a0699f05f77bd5b5df&#34;</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#0ff;font-weight:bold">&#34;Gateway&#34;</span>: <span style="color:#0ff;font-weight:bold">&#34;172.17.0.1&#34;</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#0ff;font-weight:bold">&#34;GlobalIPv6Address&#34;</span>: <span style="color:#0ff;font-weight:bold">&#34;&#34;</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#0ff;font-weight:bold">&#34;GlobalIPv6PrefixLen&#34;</span>: 0,
</span></span><span style="display:flex;"><span>            <span style="color:#0ff;font-weight:bold">&#34;IPAddress&#34;</span>: <span style="color:#0ff;font-weight:bold">&#34;172.17.0.2&#34;</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#0ff;font-weight:bold">&#34;IPPrefixLen&#34;</span>: 16,
</span></span><span style="display:flex;"><span>            <span style="color:#0ff;font-weight:bold">&#34;IPv6Gateway&#34;</span>: <span style="color:#0ff;font-weight:bold">&#34;&#34;</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#0ff;font-weight:bold">&#34;MacAddress&#34;</span>: <span style="color:#0ff;font-weight:bold">&#34;02:42:ac:11:00:02&#34;</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#0ff;font-weight:bold">&#34;Networks&#34;</span>: {
</span></span><span style="display:flex;"><span>                <span style="color:#0ff;font-weight:bold">&#34;bridge&#34;</span>: {
</span></span><span style="display:flex;"><span>                    <span style="color:#0ff;font-weight:bold">&#34;IPAMConfig&#34;</span>: null,
</span></span><span style="display:flex;"><span>                    <span style="color:#0ff;font-weight:bold">&#34;Links&#34;</span>: null,
</span></span><span style="display:flex;"><span>                    <span style="color:#0ff;font-weight:bold">&#34;Aliases&#34;</span>: null,
</span></span><span style="display:flex;"><span>                    <span style="color:#0ff;font-weight:bold">&#34;NetworkID&#34;</span>: <span style="color:#0ff;font-weight:bold">&#34;927dcbdbe869574ba0ba3e6e0bf4012f1b67fe1f2d1f4846d8da44c96afe0d2f&#34;</span>,
</span></span><span style="display:flex;"><span>                    <span style="color:#0ff;font-weight:bold">&#34;EndpointID&#34;</span>: <span style="color:#0ff;font-weight:bold">&#34;51415885283d49663fb7ca11668b55ad10d433dbe170e5a0699f05f77bd5b5df&#34;</span>,
</span></span><span style="display:flex;"><span>                    <span style="color:#0ff;font-weight:bold">&#34;Gateway&#34;</span>: <span style="color:#0ff;font-weight:bold">&#34;172.17.0.1&#34;</span>,
</span></span><span style="display:flex;"><span>                    <span style="color:#0ff;font-weight:bold">&#34;IPAddress&#34;</span>: <span style="color:#0ff;font-weight:bold">&#34;172.17.0.2&#34;</span>,
</span></span><span style="display:flex;"><span>                    <span style="color:#0ff;font-weight:bold">&#34;IPPrefixLen&#34;</span>: 16,
</span></span><span style="display:flex;"><span>                    <span style="color:#0ff;font-weight:bold">&#34;IPv6Gateway&#34;</span>: <span style="color:#0ff;font-weight:bold">&#34;&#34;</span>,
</span></span><span style="display:flex;"><span>                    <span style="color:#0ff;font-weight:bold">&#34;GlobalIPv6Address&#34;</span>: <span style="color:#0ff;font-weight:bold">&#34;&#34;</span>,
</span></span><span style="display:flex;"><span>                    <span style="color:#0ff;font-weight:bold">&#34;GlobalIPv6PrefixLen&#34;</span>: 0,
</span></span><span style="display:flex;"><span>                    <span style="color:#0ff;font-weight:bold">&#34;MacAddress&#34;</span>: <span style="color:#0ff;font-weight:bold">&#34;02:42:ac:11:00:02&#34;</span>,
</span></span><span style="display:flex;"><span>                    <span style="color:#0ff;font-weight:bold">&#34;DriverOpts&#34;</span>: null
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>]
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>进入当前正在运行的容器</strong></p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">18
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">19
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">20
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">21
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">22
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">23
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#007f7f">#命令</span>
</span></span><span style="display:flex;"><span>docker <span style="color:#fff;font-weight:bold">exec</span> -it 容器id bashShell
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">#测试</span>
</span></span><span style="display:flex;"><span>[root@shishiyi /]<span style="color:#007f7f"># docker ps</span>
</span></span><span style="display:flex;"><span>CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS             
</span></span><span style="display:flex;"><span>5c97ab1298f8        centos              <span style="color:#0ff;font-weight:bold">&#34;/bin/bash&#34;</span>         <span style="color:#ff0;font-weight:bold">10</span> minutes ago      Up <span style="color:#ff0;font-weight:bold">10</span> minutes                           
</span></span><span style="display:flex;"><span>[root@shishiyi /]<span style="color:#007f7f"># docker exec -it  5c97ab1298f8  /bin/bash</span>
</span></span><span style="display:flex;"><span>[root@5c97ab1298f8 /]<span style="color:#007f7f"># ls</span>
</span></span><span style="display:flex;"><span>bin  dev  etc  home  lib  lib64  lost+found  media  mnt  opt  proc  root  run  sbin  srv  sys  tmp  usr  var
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">#方式二</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">#命令</span>
</span></span><span style="display:flex;"><span>docker attach 容器id
</span></span><span style="display:flex;"><span><span style="color:#007f7f">#测试</span>
</span></span><span style="display:flex;"><span>[root@shishiyi /]<span style="color:#007f7f"># docker attach 5c97ab1298f8</span>
</span></span><span style="display:flex;"><span>正在执行的代码.......
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">#docker exec    是进入容器后重新开启一个终端，可以在容器里操作</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">#docker attach  是进入容器正在执行的终端，不会启用新的进程！</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>从容器内拷贝文件到主机上</strong></p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#007f7f">#命令</span>
</span></span><span style="display:flex;"><span>docker cp 容器id:容器内路径  目的的主机路径
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="commit镜像">commit镜像<a hidden class="anchor" aria-hidden="true" href="#commit镜像">#</a></h1>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>docker commit	提交容器成为一个新的副本
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">#命令和git原理类似</span>
</span></span><span style="display:flex;"><span>docker commit -m=<span style="color:#0ff;font-weight:bold">&#34;提交的描述信息&#34;</span> -a=<span style="color:#0ff;font-weight:bold">&#34;作者&#34;</span> 容器id 目标镜像名称:[TAG]
</span></span></code></pre></td></tr></table>
</div>
</div><p>实战测试</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">7
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#007f7f">#1、启动一个默认的tomcat容器</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">#2、发现默认tomcat容器是没有webapps应用的， 镜像的原因，官方的镜像默认webapps下面是没有文件的</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">#3、自己拷贝基本文件到webapps下</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">#4、然后将上述操作后的tomcat容器提交为一个镜像！之后便可以使用这个新建的镜像创建容器</span>
</span></span></code></pre></td></tr></table>
</div>
</div><img src="https://s1.ax1x.com/2020/09/02/wSdnXQ.png"  />
<h1 id="容器数据卷">容器数据卷<a hidden class="anchor" aria-hidden="true" href="#容器数据卷">#</a></h1>
<blockquote>
<p>方式一：直接使用命令来挂载 -v</p>
</blockquote>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>docker run -it -v 主机目录:容器内的目录
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">#启动起来时候我们可以通过docker inspect 容器id   来查看挂载的目录</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="具名挂载和匿名挂载">具名挂载和匿名挂载<a hidden class="anchor" aria-hidden="true" href="#具名挂载和匿名挂载">#</a></h2>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#007f7f">#匿名挂载 </span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>-v 容器内路径
</span></span><span style="display:flex;"><span><span style="color:#007f7f">#-v后面只写了容器内的路径，没有写主机路径，这种就是匿名挂载</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">#具名挂载</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>-v 卷名:容器内路径
</span></span><span style="display:flex;"><span><span style="color:#007f7f">#-v后面只写了一个名字，而不是具体的主机目录，然后加上容器内路径，这种就是具名挂载</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>所有的docker容器内的卷，没有指定目录的情况下都是在<code>/var/lib/docker/volumes/xxxx/_data</code></p>
<p>我们通过具名挂载可以方便找到我们的一个卷，大多数情况是使用<code>具名挂载</code></p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#007f7f">#如何确定是具名挂载还是匿名挂载，还是指定路径挂载</span>
</span></span><span style="display:flex;"><span>-v 容器内路径			 <span style="color:#007f7f">#匿名挂载</span>
</span></span><span style="display:flex;"><span>-v 卷名:容器内路径	   		<span style="color:#007f7f">#具名挂载</span>
</span></span><span style="display:flex;"><span>-v /宿主机路径:容器内路径   <span style="color:#007f7f">#指定路径挂载</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>拓展</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">7
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">8
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">9
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#007f7f">#	通过 -v 容器内路径：ro  rw 改变读写权限</span>
</span></span><span style="display:flex;"><span>ro	<span style="color:#fff;font-weight:bold">readonly</span>	<span style="color:#007f7f">#只读</span>
</span></span><span style="display:flex;"><span>rw	readwrite	<span style="color:#007f7f">#可读可写</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">#	一旦这个设置了容器权限，容器对我们挂载出来的内容就有了限定！</span>
</span></span><span style="display:flex;"><span>docker run -d -P --name nginx01 -v juming-nginx:/etc/nginx:ro nginx
</span></span><span style="display:flex;"><span>docker run -d -P --name nginx01 -v juming-nginx:/etc/nginx:rw nginx
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">#ro 只要看到ro就说明这个路径只能通过宿主机来操作，容器内部是无法操作！</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="dockerfile构建镜像">DockerFile构建镜像<a hidden class="anchor" aria-hidden="true" href="#dockerfile构建镜像">#</a></h1>
<h2 id="dockerfile指令">DockerFile指令<a hidden class="anchor" aria-hidden="true" href="#dockerfile指令">#</a></h2>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>FROM			<span style="color:#007f7f">#	基础镜像，一切从这里开始构建</span>
</span></span><span style="display:flex;"><span>MAINEAINER		<span style="color:#007f7f">#	镜像是谁写的，姓名+邮箱，譬如 shishiyi&lt;shaoyi.o@qq.com&gt;</span>
</span></span><span style="display:flex;"><span>RUN				<span style="color:#007f7f">#	镜像构建的时候需要运行的命令</span>
</span></span><span style="display:flex;"><span>ADD				<span style="color:#007f7f">#	添加文件</span>
</span></span><span style="display:flex;"><span>WORKDIR			<span style="color:#007f7f">#	镜像的工作目录</span>
</span></span><span style="display:flex;"><span>VOLUME			<span style="color:#007f7f">#	挂载的目录</span>
</span></span><span style="display:flex;"><span>EXPOSE 			<span style="color:#007f7f">#	镜像暴露的端口</span>
</span></span><span style="display:flex;"><span>CMD				<span style="color:#007f7f">#   指定这个容器启动的时候要运行的命令，在用run命令启动容器追加命令会被替换掉</span>
</span></span><span style="display:flex;"><span>ENTRYPOINT		<span style="color:#007f7f">#	指定这个容器启动的时候要运行的命令，可以在run命令启动容器追加命令</span>
</span></span><span style="display:flex;"><span>ONBUILD			<span style="color:#007f7f">#	当构建一个被继承 DockerFile 这个时候就会运行 ONBUILD 的指令。触发命令</span>
</span></span><span style="display:flex;"><span>COPY			<span style="color:#007f7f">#	类似ADD，将我们文件拷贝到镜像中</span>
</span></span><span style="display:flex;"><span>ENV				<span style="color:#007f7f">#	构建的时候设置环境变量</span>
</span></span><span style="display:flex;"><span>LABEL			<span style="color:#007f7f">#	设置镜像的标签</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="实战测试dockerfile指令">实战测试DockerFile指令<a hidden class="anchor" aria-hidden="true" href="#实战测试dockerfile指令">#</a></h2>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#007f7f"># 1、编写一个自己的centos的DockerFile文件</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>[root@shishiyi mydockerfile]<span style="color:#007f7f"># cat mydockerfile-centos </span>
</span></span><span style="display:flex;"><span>FROM centos
</span></span><span style="display:flex;"><span>MAINTAINER shishiyi&lt;shaoyi.0@qq.com&gt;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>ENV MYPATH /usr/local
</span></span><span style="display:flex;"><span>WORKDIR $MYPATH
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>RUN yum -y install vim
</span></span><span style="display:flex;"><span>RUN yum -y install net-tools
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>EXPOSE <span style="color:#ff0;font-weight:bold">80</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>CMD <span style="color:#fff;font-weight:bold">echo</span> $MYPATH
</span></span><span style="display:flex;"><span>CMD <span style="color:#fff;font-weight:bold">echo</span> <span style="color:#0ff;font-weight:bold">&#34;----end----&#34;</span>
</span></span><span style="display:flex;"><span>CMD /bin/bash
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">7
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">8
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#007f7f"># 2、通过自己写的dockerfile文件构建镜像</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">#命令:  docker build -f dockerfile文件路径 -t 镜像名:[tag] .       </span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">#命令结尾一定要加空格和点</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>[root@shishiyi mydockerfile]<span style="color:#007f7f"># docker build -f mydockerfile-centos -t mycentos:0.1 .</span>
</span></span><span style="display:flex;"><span>......(中间省略)
</span></span><span style="display:flex;"><span>Successfully built 09aaf2b838b6
</span></span><span style="display:flex;"><span>Successfully tagged mycentos:0.1
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="对比">对比<a hidden class="anchor" aria-hidden="true" href="#对比">#</a></h3>
<p><strong>原生的centos</strong></p>
<img src="https://s1.ax1x.com/2020/09/08/wMMYa8.png" style="zoom: 200%;" />
<p><strong>通过自己写的DockerFile文件构建镜像的centos</strong></p>
<img src="https://s1.ax1x.com/2020/09/08/wMQ9df.png" style="zoom: 200%;" />
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#007f7f"># 可以通过命令列出一个镜像是怎么生成的，即dockerfile的命令</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">#命令： docker history 镜像id</span>
</span></span></code></pre></td></tr></table>
</div>
</div><img src="https://s1.ax1x.com/2020/09/08/wMGMRS.png" style="zoom:150%;" />
<blockquote>
<p>CMD和ENTRYPOINT的区别</p>
</blockquote>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>CMD 		<span style="color:#007f7f">#这个是指容器启动时要执行的命令，如果在docker run后加了命令则会覆盖CMD指令</span>
</span></span><span style="display:flex;"><span>ENTRYPOINT  <span style="color:#007f7f">#这个也是容器启动时要执行的命令，使用docker run 命令启动包含ENTRYPOINT的容器，指定会作为参数传递</span>
</span></span><span style="display:flex;"><span>			<span style="color:#007f7f">#如果确实有需要，也可以在运行容器时通过docker run --entrypoint 覆盖ENTRYPOINT指令</span>
</span></span></code></pre></td></tr></table>
</div>
</div><blockquote>
<p>实战测试两者区别</p>
</blockquote>
<p>测试CMD</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#007f7f">#	1、 编写dockerfile文件</span>
</span></span><span style="display:flex;"><span>[root@shishiyi mydockerfile]<span style="color:#007f7f"># vim mydockerfile-centos-cmdtest</span>
</span></span><span style="display:flex;"><span>FROM centos
</span></span><span style="display:flex;"><span>CMD [<span style="color:#0ff;font-weight:bold">&#34;ls&#34;</span>,<span style="color:#0ff;font-weight:bold">&#34;-a&#34;</span>]
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#007f7f">#	2、构建镜像</span>
</span></span><span style="display:flex;"><span>[root@shishiyi mydockerfile]<span style="color:#007f7f"># docker build -f mydockerfile-centos-cmdtest -t centos-cmd-test:0.1 .</span>
</span></span><span style="display:flex;"><span>Sending build context to Docker daemon  3.072kB
</span></span><span style="display:flex;"><span>Step 1/2 : FROM centos
</span></span><span style="display:flex;"><span> ---&gt; 0d120b6ccaa8
</span></span><span style="display:flex;"><span>Step 2/2 : CMD [<span style="color:#0ff;font-weight:bold">&#34;ls&#34;</span>,<span style="color:#0ff;font-weight:bold">&#34;-a&#34;</span>]
</span></span><span style="display:flex;"><span> ---&gt; Running in d7ee5073447a
</span></span><span style="display:flex;"><span>Removing intermediate container d7ee5073447a
</span></span><span style="display:flex;"><span> ---&gt; adc267054d89
</span></span><span style="display:flex;"><span>Successfully built adc267054d89
</span></span><span style="display:flex;"><span>Successfully tagged centos-cmd-test:0.1
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">18
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">19
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">20
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">21
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">22
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">23
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">24
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">25
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">26
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">27
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">28
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">29
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">30
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#007f7f">#	3、启动容器，发现ls -a命令生效了</span>
</span></span><span style="display:flex;"><span>[root@shishiyi mydockerfile]<span style="color:#007f7f"># docker run centos-cmd-test:0.1</span>
</span></span><span style="display:flex;"><span>.
</span></span><span style="display:flex;"><span>..
</span></span><span style="display:flex;"><span>.dockerenv
</span></span><span style="display:flex;"><span>bin
</span></span><span style="display:flex;"><span>dev
</span></span><span style="display:flex;"><span>etc
</span></span><span style="display:flex;"><span>home
</span></span><span style="display:flex;"><span>lib
</span></span><span style="display:flex;"><span>lib64
</span></span><span style="display:flex;"><span>lost+found
</span></span><span style="display:flex;"><span>media
</span></span><span style="display:flex;"><span>mnt
</span></span><span style="display:flex;"><span>opt
</span></span><span style="display:flex;"><span>proc
</span></span><span style="display:flex;"><span>root
</span></span><span style="display:flex;"><span>run
</span></span><span style="display:flex;"><span>sbin
</span></span><span style="display:flex;"><span>srv
</span></span><span style="display:flex;"><span>sys
</span></span><span style="display:flex;"><span>tmp
</span></span><span style="display:flex;"><span>usr
</span></span><span style="display:flex;"><span>var
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">#想追加一个命令 -l  变成ls -al</span>
</span></span><span style="display:flex;"><span>[root@shishiyi mydockerfile]<span style="color:#007f7f"># docker run centos-cmd-test:0.1 -l</span>
</span></span><span style="display:flex;"><span>docker: Error response from daemon: OCI runtime create failed: container_linux.go:349: starting container process caused <span style="color:#0ff;font-weight:bold">&#34;exec: \&#34;-l\&#34;: executable file not found in </span>$PATH<span style="color:#0ff;font-weight:bold">&#34;</span>: unknown.
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">#CMD情况下  -l却把CMD[&#34;ls&#34;, &#34;-a&#34;]指令替换了，导致不是命令报错</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>测试ENTRYPOINT指令</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">18
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">19
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">20
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">21
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">22
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">23
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">24
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">25
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">26
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">27
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">28
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">29
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">30
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">31
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">32
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">33
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">34
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">35
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">36
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">37
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">38
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">39
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">40
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">41
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">42
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">43
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">44
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">45
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">46
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">47
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">48
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">49
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">50
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">51
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">52
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">53
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">54
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">55
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">56
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">57
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">58
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">59
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">60
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">61
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">62
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">63
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">64
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">65
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">66
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">67
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#007f7f"># 编写dockerfile文件</span>
</span></span><span style="display:flex;"><span>[root@shishiyi mydockerfile]<span style="color:#007f7f"># vim mydockerfile-centos-entrypointtest</span>
</span></span><span style="display:flex;"><span>FROM centos
</span></span><span style="display:flex;"><span>ENTRYPOINT [<span style="color:#0ff;font-weight:bold">&#34;ls&#34;</span>,<span style="color:#0ff;font-weight:bold">&#34;-a&#34;</span>]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># 构建镜像</span>
</span></span><span style="display:flex;"><span>[root@shishiyi mydockerfile]<span style="color:#007f7f"># docker build -f mydockerfile-centos-entrypointtest -t centos-entrypoint-test:0.1 .</span>
</span></span><span style="display:flex;"><span>Sending build context to Docker daemon  4.096kB
</span></span><span style="display:flex;"><span>Step 1/2 : FROM centos
</span></span><span style="display:flex;"><span> ---&gt; 0d120b6ccaa8
</span></span><span style="display:flex;"><span>Step 2/2 : ENTRYPOINT [<span style="color:#0ff;font-weight:bold">&#34;ls&#34;</span>,<span style="color:#0ff;font-weight:bold">&#34;-a&#34;</span>]
</span></span><span style="display:flex;"><span> ---&gt; Running in 936e7ec1e16c
</span></span><span style="display:flex;"><span>Removing intermediate container 936e7ec1e16c
</span></span><span style="display:flex;"><span> ---&gt; 68dbcdfd80a6
</span></span><span style="display:flex;"><span>Successfully built 68dbcdfd80a6
</span></span><span style="display:flex;"><span>Successfully tagged centos-entrypoint-test:0.1
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># 启动容器</span>
</span></span><span style="display:flex;"><span>[root@shishiyi mydockerfile]<span style="color:#007f7f"># docker run centos-entrypoint-test:0.1</span>
</span></span><span style="display:flex;"><span>.
</span></span><span style="display:flex;"><span>..
</span></span><span style="display:flex;"><span>.dockerenv
</span></span><span style="display:flex;"><span>bin
</span></span><span style="display:flex;"><span>dev
</span></span><span style="display:flex;"><span>etc
</span></span><span style="display:flex;"><span>home
</span></span><span style="display:flex;"><span>lib
</span></span><span style="display:flex;"><span>lib64
</span></span><span style="display:flex;"><span>lost+found
</span></span><span style="display:flex;"><span>media
</span></span><span style="display:flex;"><span>mnt
</span></span><span style="display:flex;"><span>opt
</span></span><span style="display:flex;"><span>proc
</span></span><span style="display:flex;"><span>root
</span></span><span style="display:flex;"><span>run
</span></span><span style="display:flex;"><span>sbin
</span></span><span style="display:flex;"><span>srv
</span></span><span style="display:flex;"><span>sys
</span></span><span style="display:flex;"><span>tmp
</span></span><span style="display:flex;"><span>usr
</span></span><span style="display:flex;"><span>var
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">#启动容器追加一个命令 -l ,发现直接拼接在了ENTRYPOINT [&#34;ls&#34;,&#34;-a&#34;]指令后面 </span>
</span></span><span style="display:flex;"><span>[root@shishiyi mydockerfile]<span style="color:#007f7f"># docker run centos-entrypoint-test:0.1 -l</span>
</span></span><span style="display:flex;"><span>total <span style="color:#ff0;font-weight:bold">56</span>
</span></span><span style="display:flex;"><span>drwxr-xr-x  <span style="color:#ff0;font-weight:bold">1</span> root root <span style="color:#ff0;font-weight:bold">4096</span> Sep  <span style="color:#ff0;font-weight:bold">8</span> 04:03 .
</span></span><span style="display:flex;"><span>drwxr-xr-x  <span style="color:#ff0;font-weight:bold">1</span> root root <span style="color:#ff0;font-weight:bold">4096</span> Sep  <span style="color:#ff0;font-weight:bold">8</span> 04:03 ..
</span></span><span style="display:flex;"><span>-rwxr-xr-x  <span style="color:#ff0;font-weight:bold">1</span> root root    <span style="color:#ff0;font-weight:bold">0</span> Sep  <span style="color:#ff0;font-weight:bold">8</span> 04:03 .dockerenv
</span></span><span style="display:flex;"><span>lrwxrwxrwx  <span style="color:#ff0;font-weight:bold">1</span> root root    <span style="color:#ff0;font-weight:bold">7</span> May <span style="color:#ff0;font-weight:bold">11</span>  <span style="color:#ff0;font-weight:bold">2019</span> bin -&gt; usr/bin
</span></span><span style="display:flex;"><span>drwxr-xr-x  <span style="color:#ff0;font-weight:bold">5</span> root root  <span style="color:#ff0;font-weight:bold">340</span> Sep  <span style="color:#ff0;font-weight:bold">8</span> 04:03 dev
</span></span><span style="display:flex;"><span>drwxr-xr-x  <span style="color:#ff0;font-weight:bold">1</span> root root <span style="color:#ff0;font-weight:bold">4096</span> Sep  <span style="color:#ff0;font-weight:bold">8</span> 04:03 etc
</span></span><span style="display:flex;"><span>drwxr-xr-x  <span style="color:#ff0;font-weight:bold">2</span> root root <span style="color:#ff0;font-weight:bold">4096</span> May <span style="color:#ff0;font-weight:bold">11</span>  <span style="color:#ff0;font-weight:bold">2019</span> home
</span></span><span style="display:flex;"><span>lrwxrwxrwx  <span style="color:#ff0;font-weight:bold">1</span> root root    <span style="color:#ff0;font-weight:bold">7</span> May <span style="color:#ff0;font-weight:bold">11</span>  <span style="color:#ff0;font-weight:bold">2019</span> lib -&gt; usr/lib
</span></span><span style="display:flex;"><span>lrwxrwxrwx  <span style="color:#ff0;font-weight:bold">1</span> root root    <span style="color:#ff0;font-weight:bold">9</span> May <span style="color:#ff0;font-weight:bold">11</span>  <span style="color:#ff0;font-weight:bold">2019</span> lib64 -&gt; usr/lib64
</span></span><span style="display:flex;"><span>drwx------  <span style="color:#ff0;font-weight:bold">2</span> root root <span style="color:#ff0;font-weight:bold">4096</span> Aug  <span style="color:#ff0;font-weight:bold">9</span> 21:40 lost+found
</span></span><span style="display:flex;"><span>drwxr-xr-x  <span style="color:#ff0;font-weight:bold">2</span> root root <span style="color:#ff0;font-weight:bold">4096</span> May <span style="color:#ff0;font-weight:bold">11</span>  <span style="color:#ff0;font-weight:bold">2019</span> media
</span></span><span style="display:flex;"><span>drwxr-xr-x  <span style="color:#ff0;font-weight:bold">2</span> root root <span style="color:#ff0;font-weight:bold">4096</span> May <span style="color:#ff0;font-weight:bold">11</span>  <span style="color:#ff0;font-weight:bold">2019</span> mnt
</span></span><span style="display:flex;"><span>drwxr-xr-x  <span style="color:#ff0;font-weight:bold">2</span> root root <span style="color:#ff0;font-weight:bold">4096</span> May <span style="color:#ff0;font-weight:bold">11</span>  <span style="color:#ff0;font-weight:bold">2019</span> opt
</span></span><span style="display:flex;"><span>dr-xr-xr-x <span style="color:#ff0;font-weight:bold">94</span> root root    <span style="color:#ff0;font-weight:bold">0</span> Sep  <span style="color:#ff0;font-weight:bold">8</span> 04:03 proc
</span></span><span style="display:flex;"><span>dr-xr-x---  <span style="color:#ff0;font-weight:bold">2</span> root root <span style="color:#ff0;font-weight:bold">4096</span> Aug  <span style="color:#ff0;font-weight:bold">9</span> 21:40 root
</span></span><span style="display:flex;"><span>drwxr-xr-x <span style="color:#ff0;font-weight:bold">11</span> root root <span style="color:#ff0;font-weight:bold">4096</span> Aug  <span style="color:#ff0;font-weight:bold">9</span> 21:40 run
</span></span><span style="display:flex;"><span>lrwxrwxrwx  <span style="color:#ff0;font-weight:bold">1</span> root root    <span style="color:#ff0;font-weight:bold">8</span> May <span style="color:#ff0;font-weight:bold">11</span>  <span style="color:#ff0;font-weight:bold">2019</span> sbin -&gt; usr/sbin
</span></span><span style="display:flex;"><span>drwxr-xr-x  <span style="color:#ff0;font-weight:bold">2</span> root root <span style="color:#ff0;font-weight:bold">4096</span> May <span style="color:#ff0;font-weight:bold">11</span>  <span style="color:#ff0;font-weight:bold">2019</span> srv
</span></span><span style="display:flex;"><span>dr-xr-xr-x <span style="color:#ff0;font-weight:bold">13</span> root root    <span style="color:#ff0;font-weight:bold">0</span> Sep  <span style="color:#ff0;font-weight:bold">8</span> 04:03 sys
</span></span><span style="display:flex;"><span>drwxrwxrwt  <span style="color:#ff0;font-weight:bold">7</span> root root <span style="color:#ff0;font-weight:bold">4096</span> Aug  <span style="color:#ff0;font-weight:bold">9</span> 21:40 tmp
</span></span><span style="display:flex;"><span>drwxr-xr-x <span style="color:#ff0;font-weight:bold">12</span> root root <span style="color:#ff0;font-weight:bold">4096</span> Aug  <span style="color:#ff0;font-weight:bold">9</span> 21:40 usr
</span></span><span style="display:flex;"><span>drwxr-xr-x <span style="color:#ff0;font-weight:bold">20</span> root root <span style="color:#ff0;font-weight:bold">4096</span> Aug  <span style="color:#ff0;font-weight:bold">9</span> 21:40 var
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="发布镜像">发布镜像<a hidden class="anchor" aria-hidden="true" href="#发布镜像">#</a></h2>
<blockquote>
<p>到DockerHub</p>
</blockquote>
<p>在dockerhub官网注册一个账号</p>
<p>dockerhub官网：https://hub.docker.com/</p>
<p>登录dockerhub账号</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">18
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">19
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">20
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">21
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>[root@shishiyi mydockerfile]<span style="color:#007f7f"># docker login --help</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Usage:	docker login [OPTIONS] [SERVER]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Log in to a Docker registry.
</span></span><span style="display:flex;"><span>If no server is specified, the default is defined by the daemon.
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Options:
</span></span><span style="display:flex;"><span>  -p, --password string   Password
</span></span><span style="display:flex;"><span>      --password-stdin    Take the password from stdin
</span></span><span style="display:flex;"><span>  -u, --username string   Username
</span></span><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>[root@shishiyi mydockerfile]<span style="color:#007f7f"># docker login -u shishiyi</span>
</span></span><span style="display:flex;"><span>Password: 
</span></span><span style="display:flex;"><span>WARNING! Your password will be stored unencrypted in /root/.docker/config.json.
</span></span><span style="display:flex;"><span>Configure a credential helper to remove this warning. See
</span></span><span style="display:flex;"><span>https://docs.docker.com/engine/reference/commandline/login/#credentials-store
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Login Succeeded
</span></span></code></pre></td></tr></table>
</div>
</div><p>登录完毕后就可以提交自己的镜像了</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">18
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">19
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">20
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">21
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">22
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">23
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">24
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">25
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#007f7f"># 推送镜像的规范是：   docker push 注册用户名/镜像名:tag</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># 推送镜像尽量带上版本号</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>[root@shishiyi mydockerfile]<span style="color:#007f7f"># docker images</span>
</span></span><span style="display:flex;"><span>REPOSITORY               TAG                 IMAGE ID            CREATED             SIZE
</span></span><span style="display:flex;"><span>centos-entrypoint-test   0.1                 68dbcdfd80a6        <span style="color:#ff0;font-weight:bold">3</span> hours ago         215MB
</span></span><span style="display:flex;"><span>centos-cmd-test          0.1                 adc267054d89        <span style="color:#ff0;font-weight:bold">3</span> hours ago         215MB
</span></span><span style="display:flex;"><span>mycentos                 0.1                 09aaf2b838b6        <span style="color:#ff0;font-weight:bold">4</span> hours ago         287MB
</span></span><span style="display:flex;"><span>centos                   latest              0d120b6ccaa8        <span style="color:#ff0;font-weight:bold">4</span> weeks ago         215MB
</span></span><span style="display:flex;"><span>[root@shishiyi mydockerfile]<span style="color:#007f7f"># docker push shishiyi/mycentos:0.1</span>
</span></span><span style="display:flex;"><span>The push refers to repository [docker.io/shishiyi/mycentos]
</span></span><span style="display:flex;"><span>An image does not exist locally with the tag: shishiyi/mycentos
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">#发现直接这样推送是不行的， 看错误An image does not exist locally with the tag: shishiyi/mycentos,</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">#本地没有tag是shishiyi/mycentos的镜像.</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">#解决办法，增加一个tag</span>
</span></span><span style="display:flex;"><span>[root@shishiyi mydockerfile]<span style="color:#007f7f"># docker tag mycentos:0.1  shishiyi/mycentos:0.1</span>
</span></span><span style="display:flex;"><span>[root@shishiyi mydockerfile]<span style="color:#007f7f"># docker images</span>
</span></span><span style="display:flex;"><span>REPOSITORY               TAG                 IMAGE ID            CREATED             SIZE
</span></span><span style="display:flex;"><span>centos-entrypoint-test   0.1                 68dbcdfd80a6        <span style="color:#ff0;font-weight:bold">3</span> hours ago         215MB
</span></span><span style="display:flex;"><span>centos-cmd-test          0.1                 adc267054d89        <span style="color:#ff0;font-weight:bold">4</span> hours ago         215MB
</span></span><span style="display:flex;"><span>shishiyi/mycentos        0.1                 09aaf2b838b6        <span style="color:#ff0;font-weight:bold">4</span> hours ago         287MB
</span></span><span style="display:flex;"><span>mycentos                 0.1                 09aaf2b838b6        <span style="color:#ff0;font-weight:bold">4</span> hours ago         287MB
</span></span><span style="display:flex;"><span>centos                   latest              0d120b6ccaa8        <span style="color:#ff0;font-weight:bold">4</span> weeks ago         215MB
</span></span></code></pre></td></tr></table>
</div>
</div><p>然后再推送即可，记得带上版本号！</p>
<img src="https://s1.ax1x.com/2020/09/08/wQPziq.png" alt="wQPziq.png" style="zoom:200%;" />
<h1 id="docker网络容器互联">Docker网络（容器互联)<a hidden class="anchor" aria-hidden="true" href="#docker网络容器互联">#</a></h1>
<h2 id="--link已过时">&ndash;link(已过时)<a hidden class="anchor" aria-hidden="true" href="#--link已过时">#</a></h2>
<p><strong>容器之间是否可以通过名字ping通</strong></p>
<img src="https://s1.ax1x.com/2020/09/08/wQQmHx.png" alt="wQQmHx.png" style="zoom: 200%;" />
<p><strong>启动两个容器后，发现直接通过名字并不能ping通</strong></p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#007f7f">#可以使用 --link命令来解决 </span>
</span></span><span style="display:flex;"><span>[root@shishiyi home]<span style="color:#007f7f"># docker run -d -P --name tomcat03 --link tomcat02 tomcat</span>
</span></span><span style="display:flex;"><span>d5e88ace3eb8793c00e3441440347c2cbe52784e8771b6882edb47671631eb5f
</span></span><span style="display:flex;"><span>[root@shishiyi home]<span style="color:#007f7f"># docker exec -it tomcat03 ping tomcat02</span>
</span></span><span style="display:flex;"><span>PING tomcat02 (172.17.0.3) 56(84) bytes of data.
</span></span><span style="display:flex;"><span><span style="color:#ff0;font-weight:bold">64</span> bytes from tomcat02 (172.17.0.3): icmp_seq=<span style="color:#ff0;font-weight:bold">1</span> ttl=<span style="color:#ff0;font-weight:bold">64</span> time=0.092 ms
</span></span><span style="display:flex;"><span><span style="color:#ff0;font-weight:bold">64</span> bytes from tomcat02 (172.17.0.3): icmp_seq=<span style="color:#ff0;font-weight:bold">2</span> ttl=<span style="color:#ff0;font-weight:bold">64</span> time=0.067 ms
</span></span><span style="display:flex;"><span><span style="color:#ff0;font-weight:bold">64</span> bytes from tomcat02 (172.17.0.3): icmp_seq=<span style="color:#ff0;font-weight:bold">3</span> ttl=<span style="color:#ff0;font-weight:bold">64</span> time=0.068 ms
</span></span><span style="display:flex;"><span><span style="color:#ff0;font-weight:bold">64</span> bytes from tomcat02 (172.17.0.3): icmp_seq=<span style="color:#ff0;font-weight:bold">4</span> ttl=<span style="color:#ff0;font-weight:bold">64</span> time=0.072 ms
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">#但是不能反向ping通</span>
</span></span><span style="display:flex;"><span>[root@shishiyi home]<span style="color:#007f7f"># docker exec -it tomcat02 ping tomcat03</span>
</span></span><span style="display:flex;"><span>ping: tomcat03: Name or service not known
</span></span></code></pre></td></tr></table>
</div>
</div><p>其实这个tomcat03之所以能ping通tomcat02，本质是因为在tomcat03本地配置hosts文件</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#007f7f">#查看tomcat03的hosts文件</span>
</span></span><span style="display:flex;"><span>[root@shishiyi home]<span style="color:#007f7f"># docker exec -it tomcat03  cat /etc/hosts</span>
</span></span><span style="display:flex;"><span>127.0.0.1	localhost
</span></span><span style="display:flex;"><span>::1	localhost ip6-localhost ip6-loopback
</span></span><span style="display:flex;"><span>fe00::0	ip6-localnet
</span></span><span style="display:flex;"><span>ff00::0	ip6-mcastprefix
</span></span><span style="display:flex;"><span>ff02::1	ip6-allnodes
</span></span><span style="display:flex;"><span>ff02::2	ip6-allrouters
</span></span><span style="display:flex;"><span>172.17.0.3	tomcat02 639797bb5b9b
</span></span><span style="display:flex;"><span>172.17.0.4	d5e88ace3eb8
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>&ndash;link命令就是在hosts文件中添加了一行 172.17.0.3	tomcat02 639797bb5b9b</strong></p>
<h2 id="自定义网络">自定义网络<a hidden class="anchor" aria-hidden="true" href="#自定义网络">#</a></h2>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>[root@shishiyi /]<span style="color:#007f7f"># docker network ls</span>
</span></span><span style="display:flex;"><span>NETWORK ID          NAME                DRIVER              SCOPE
</span></span><span style="display:flex;"><span>b975ebb49b23        bridge              bridge              <span style="color:#fff;font-weight:bold">local</span>
</span></span><span style="display:flex;"><span>fd952cfe82a0        host                host                <span style="color:#fff;font-weight:bold">local</span>
</span></span><span style="display:flex;"><span>50c346e922df        none                null                <span style="color:#fff;font-weight:bold">local</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>网络模式</strong></p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>bridge：桥接docker (默认的，自己创建也是使用bridge 模式)
</span></span><span style="display:flex;"><span>host ：和宿主机共用网络
</span></span><span style="display:flex;"><span>none ：不配置网络
</span></span></code></pre></td></tr></table>
</div>
</div><p>docker默认使用bridge 模式即docker0，但是docker0 不支持容器之间 通过名字直接访问，所以我们可以选择另一种方式即自定义网络</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#007f7f">#创建自己的网络</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">#	--driver bridge  选择网络模式(不写默认为bridge)</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">#	--subnet 192.168.0.0/16    子网的路段 192.168.0.0/16表示从192.168.0.2到192.168.255.255</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">#	--gateway 192.168.0.1		网关地址即路由</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>[root@shishiyi /]<span style="color:#007f7f"># docker network create --driver bridge --subnet 192.168.0.0/16 --gateway 192.168.0.1 mynetwork</span>
</span></span><span style="display:flex;"><span>8ecbbe2766eca4f95f19cc37f731bccaa305b440834abdce4006fe6ef3e5fecb
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>[root@shishiyi /]<span style="color:#007f7f"># docker network ls</span>
</span></span><span style="display:flex;"><span>NETWORK ID          NAME                DRIVER              SCOPE
</span></span><span style="display:flex;"><span>b975ebb49b23        bridge              bridge              <span style="color:#fff;font-weight:bold">local</span>
</span></span><span style="display:flex;"><span>fd952cfe82a0        host                host                <span style="color:#fff;font-weight:bold">local</span>
</span></span><span style="display:flex;"><span>8ecbbe2766ec        mynetwork           bridge              <span style="color:#fff;font-weight:bold">local</span>
</span></span><span style="display:flex;"><span>50c346e922df        none                null                <span style="color:#fff;font-weight:bold">local</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>自己定义的网络就配置好了！</p>
<img src="https://s1.ax1x.com/2020/09/08/wQyrkT.png" alt="wQyrkT.png" style="zoom: 150%;" />
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">18
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">19
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">20
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">21
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">22
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">23
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">24
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">25
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">26
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">27
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">28
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">29
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">30
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">31
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">32
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">33
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">34
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">35
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">36
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">37
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">38
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">39
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">40
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">41
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">42
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">43
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">44
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">45
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">46
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">47
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">48
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">49
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">50
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">51
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">52
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">53
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">54
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">55
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">56
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">57
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">58
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">59
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">60
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">61
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">62
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">63
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">64
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">65
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">66
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">67
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">68
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#007f7f">#	创建容器时指定自己写的网关</span>
</span></span><span style="display:flex;"><span>[root@shishiyi /]<span style="color:#007f7f"># docker run -d -P --name tomcat-net-01 --net mynetwork tomcat</span>
</span></span><span style="display:flex;"><span>b39086a191ca5da74eb88fce3bd27ccb5039ea36569ffc4a766b18075ea83cba
</span></span><span style="display:flex;"><span>[root@shishiyi /]<span style="color:#007f7f"># docker run -d -P --name tomcat-net-02 --net mynetwork tomcat</span>
</span></span><span style="display:flex;"><span>2c48396a0e18213eb913701d98d494546fa4ca7ce1ce316f04b4e7ac45d2aae7
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">#	再次查看自己配置的网关</span>
</span></span><span style="display:flex;"><span>[root@shishiyi /]<span style="color:#007f7f"># docker network inspect mynetwork</span>
</span></span><span style="display:flex;"><span>[
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#0ff;font-weight:bold">&#34;Name&#34;</span>: <span style="color:#0ff;font-weight:bold">&#34;mynetwork&#34;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#0ff;font-weight:bold">&#34;Id&#34;</span>: <span style="color:#0ff;font-weight:bold">&#34;8ecbbe2766eca4f95f19cc37f731bccaa305b440834abdce4006fe6ef3e5fecb&#34;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#0ff;font-weight:bold">&#34;Created&#34;</span>: <span style="color:#0ff;font-weight:bold">&#34;2020-09-08T16:56:59.25870749+08:00&#34;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#0ff;font-weight:bold">&#34;Scope&#34;</span>: <span style="color:#0ff;font-weight:bold">&#34;local&#34;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#0ff;font-weight:bold">&#34;Driver&#34;</span>: <span style="color:#0ff;font-weight:bold">&#34;bridge&#34;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#0ff;font-weight:bold">&#34;EnableIPv6&#34;</span>: false,
</span></span><span style="display:flex;"><span>        <span style="color:#0ff;font-weight:bold">&#34;IPAM&#34;</span>: {
</span></span><span style="display:flex;"><span>            <span style="color:#0ff;font-weight:bold">&#34;Driver&#34;</span>: <span style="color:#0ff;font-weight:bold">&#34;default&#34;</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#0ff;font-weight:bold">&#34;Options&#34;</span>: {},
</span></span><span style="display:flex;"><span>            <span style="color:#0ff;font-weight:bold">&#34;Config&#34;</span>: [
</span></span><span style="display:flex;"><span>                {
</span></span><span style="display:flex;"><span>                    <span style="color:#0ff;font-weight:bold">&#34;Subnet&#34;</span>: <span style="color:#0ff;font-weight:bold">&#34;192.168.0.0/16&#34;</span>,
</span></span><span style="display:flex;"><span>                    <span style="color:#0ff;font-weight:bold">&#34;Gateway&#34;</span>: <span style="color:#0ff;font-weight:bold">&#34;192.168.0.1&#34;</span>
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>            ]
</span></span><span style="display:flex;"><span>        },
</span></span><span style="display:flex;"><span>        <span style="color:#0ff;font-weight:bold">&#34;Internal&#34;</span>: false,
</span></span><span style="display:flex;"><span>        <span style="color:#0ff;font-weight:bold">&#34;Attachable&#34;</span>: false,
</span></span><span style="display:flex;"><span>        <span style="color:#0ff;font-weight:bold">&#34;Ingress&#34;</span>: false,
</span></span><span style="display:flex;"><span>        <span style="color:#0ff;font-weight:bold">&#34;ConfigFrom&#34;</span>: {
</span></span><span style="display:flex;"><span>            <span style="color:#0ff;font-weight:bold">&#34;Network&#34;</span>: <span style="color:#0ff;font-weight:bold">&#34;&#34;</span>
</span></span><span style="display:flex;"><span>        },
</span></span><span style="display:flex;"><span>        <span style="color:#0ff;font-weight:bold">&#34;ConfigOnly&#34;</span>: false,
</span></span><span style="display:flex;"><span>        <span style="color:#0ff;font-weight:bold">&#34;Containers&#34;</span>: {
</span></span><span style="display:flex;"><span>            <span style="color:#0ff;font-weight:bold">&#34;2c48396a0e18213eb913701d98d494546fa4ca7ce1ce316f04b4e7ac45d2aae7&#34;</span>: {
</span></span><span style="display:flex;"><span>                <span style="color:#0ff;font-weight:bold">&#34;Name&#34;</span>: <span style="color:#0ff;font-weight:bold">&#34;tomcat-net-02&#34;</span>,
</span></span><span style="display:flex;"><span>                <span style="color:#0ff;font-weight:bold">&#34;EndpointID&#34;</span>: <span style="color:#0ff;font-weight:bold">&#34;7dcfa2ec9c4dc735aed6625791989ea78e8598d0a27d4540d5ef4ef9e0bfe84c&#34;</span>,
</span></span><span style="display:flex;"><span>                <span style="color:#0ff;font-weight:bold">&#34;MacAddress&#34;</span>: <span style="color:#0ff;font-weight:bold">&#34;02:42:c0:a8:00:03&#34;</span>,
</span></span><span style="display:flex;"><span>                <span style="color:#0ff;font-weight:bold">&#34;IPv4Address&#34;</span>: <span style="color:#0ff;font-weight:bold">&#34;192.168.0.3/16&#34;</span>,
</span></span><span style="display:flex;"><span>                <span style="color:#0ff;font-weight:bold">&#34;IPv6Address&#34;</span>: <span style="color:#0ff;font-weight:bold">&#34;&#34;</span>
</span></span><span style="display:flex;"><span>            },
</span></span><span style="display:flex;"><span>            <span style="color:#0ff;font-weight:bold">&#34;b39086a191ca5da74eb88fce3bd27ccb5039ea36569ffc4a766b18075ea83cba&#34;</span>: {
</span></span><span style="display:flex;"><span>                <span style="color:#0ff;font-weight:bold">&#34;Name&#34;</span>: <span style="color:#0ff;font-weight:bold">&#34;tomcat-net-01&#34;</span>,
</span></span><span style="display:flex;"><span>                <span style="color:#0ff;font-weight:bold">&#34;EndpointID&#34;</span>: <span style="color:#0ff;font-weight:bold">&#34;b988b92f99d56c415e7550c94179cd095ddd75ccb8bd7fb11454d213be6bbcab&#34;</span>,
</span></span><span style="display:flex;"><span>                <span style="color:#0ff;font-weight:bold">&#34;MacAddress&#34;</span>: <span style="color:#0ff;font-weight:bold">&#34;02:42:c0:a8:00:02&#34;</span>,
</span></span><span style="display:flex;"><span>                <span style="color:#0ff;font-weight:bold">&#34;IPv4Address&#34;</span>: <span style="color:#0ff;font-weight:bold">&#34;192.168.0.2/16&#34;</span>,
</span></span><span style="display:flex;"><span>                <span style="color:#0ff;font-weight:bold">&#34;IPv6Address&#34;</span>: <span style="color:#0ff;font-weight:bold">&#34;&#34;</span>
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        },
</span></span><span style="display:flex;"><span>        <span style="color:#0ff;font-weight:bold">&#34;Options&#34;</span>: {},
</span></span><span style="display:flex;"><span>        <span style="color:#0ff;font-weight:bold">&#34;Labels&#34;</span>: {}
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">#	再次通过ip去ping连接</span>
</span></span><span style="display:flex;"><span>[root@shishiyi /]<span style="color:#007f7f"># docker exec -it tomcat-net-01 ping 192.168.0.3</span>
</span></span><span style="display:flex;"><span>PING 192.168.0.3 (192.168.0.3) 56(84) bytes of data.
</span></span><span style="display:flex;"><span><span style="color:#ff0;font-weight:bold">64</span> bytes from 192.168.0.3: icmp_seq=<span style="color:#ff0;font-weight:bold">1</span> ttl=<span style="color:#ff0;font-weight:bold">64</span> time=0.073 ms
</span></span><span style="display:flex;"><span><span style="color:#ff0;font-weight:bold">64</span> bytes from 192.168.0.3: icmp_seq=<span style="color:#ff0;font-weight:bold">2</span> ttl=<span style="color:#ff0;font-weight:bold">64</span> time=0.062 ms
</span></span><span style="display:flex;"><span><span style="color:#ff0;font-weight:bold">64</span> bytes from 192.168.0.3: icmp_seq=<span style="color:#ff0;font-weight:bold">3</span> ttl=<span style="color:#ff0;font-weight:bold">64</span> time=0.076 ms
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">#	使用了自己写的网关，我们发现可以直接通过名字ping通</span>
</span></span><span style="display:flex;"><span>[root@shishiyi /]<span style="color:#007f7f"># docker exec -it tomcat-net-01 ping tomcat-net-02</span>
</span></span><span style="display:flex;"><span>PING tomcat-net-02 (192.168.0.3) 56(84) bytes of data.
</span></span><span style="display:flex;"><span><span style="color:#ff0;font-weight:bold">64</span> bytes from tomcat-net-02.mynetwork (192.168.0.3): icmp_seq=<span style="color:#ff0;font-weight:bold">1</span> ttl=<span style="color:#ff0;font-weight:bold">64</span> time=0.060 ms
</span></span><span style="display:flex;"><span><span style="color:#ff0;font-weight:bold">64</span> bytes from tomcat-net-02.mynetwork (192.168.0.3): icmp_seq=<span style="color:#ff0;font-weight:bold">2</span> ttl=<span style="color:#ff0;font-weight:bold">64</span> time=0.065 ms
</span></span><span style="display:flex;"><span>^C
</span></span><span style="display:flex;"><span>--- tomcat-net-02 ping statistics ---
</span></span></code></pre></td></tr></table>
</div>
</div><p>结论：我们自定义的网络docker已经帮我们维护好了对应的关系，所以推荐使用自定义网络的方式</p>
<p>好处：</p>
<p>不同的集群使用不同的网络，保证了集群的安全和健康</p>
<h2 id="网络连通">网络连通<a hidden class="anchor" aria-hidden="true" href="#网络连通">#</a></h2>
<blockquote>
<p>怎么办到不同的网关下的容器之间相互连通</p>
</blockquote>
<img src="https://s1.ax1x.com/2020/09/08/wQRTlF.png" alt="wQRTlF.png" style="zoom:150%;" />
<img src="https://s1.ax1x.com/2020/09/08/wQWmp8.png" alt="wQWmp8.png" style="zoom:150%;" />
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">7
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#007f7f">#	测试打通docker0网络下的tomcat01 </span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">#	连通之后就是将tomcat01放到了mynetwork网络下</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># 	具体命令为：docker network connect mynetwork tomcat01</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">#	相当于一个容器有了两个ip地址</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">#	inspect命令查看自定义网络配置，发现确定添加了其它网络下的容器进来</span>
</span></span></code></pre></td></tr></table>
</div>
</div><img src="https://s1.ax1x.com/2020/09/08/wQfVb9.png" alt="wQfVb9.png" style="zoom:150%;" />


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="http://shaoyi.cc/tags/docker/">Docker</a></li>
    </ul>
<nav class="paginav">
  <a class="prev" href="http://shaoyi.cc/posts/blog/jenkins%E6%9E%84%E5%BB%BA/jenkins-%E6%9E%84%E5%BB%BA/">
    <span class="title">« 上一页</span>
    <br>
    <span>Jenkins部署</span>
  </a>
  <a class="next" href="http://shaoyi.cc/posts/blog/mq/rabbitmq/rabbitmq/">
    <span class="title">下一页 »</span>
    <br>
    <span>消息中间件之RabbitMQ</span>
  </a>
</nav>

  </footer>
</article>
    </main>
    
<footer class="footer">
    <span>&copy; 2022 <a href="http://shaoyi.cc/">Shaoyi&#39;s Blog</a></span>
    <span>All Rights Reserved</span>
    <span>
        
        
        <a href="https://beian.miit.gov.cn/" rel="noopener noreferrer" target="_blank">鄂ICP备2022008682号-1</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = '复制';

        function copyingDone() {
            copybutton.innerHTML = '已复制！';
            setTimeout(() => {
                copybutton.innerHTML = '复制';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script></body>

</html>
