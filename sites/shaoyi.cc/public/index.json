[{"content":"é¡¹ç›®æ‰“åŒ…åˆ°Maven ç§æœ é…ç½®Maven é…ç½®ç§æœä»“åº“çš„ç”¨æˆ·å’Œå¯†ç \nåœ¨mavenå®‰è£…ç›®å½• /conf/setting.xml ä¸­çš„serversä¸‹æ·»åŠ  1 2 3 4 5 6 7 8 9 10 11 12 \u0026lt;servers\u0026gt; \u0026lt;server\u0026gt; \u0026lt;id\u0026gt;nexus-snapshots\u0026lt;/id\u0026gt; \u0026lt;username\u0026gt;admin\u0026lt;/username\u0026gt; \u0026lt;password\u0026gt;123456\u0026lt;/password\u0026gt; \u0026lt;/server\u0026gt; \u0026lt;server\u0026gt; \u0026lt;id\u0026gt;nexus-releases\u0026lt;/id\u0026gt; \u0026lt;username\u0026gt;admin\u0026lt;/username\u0026gt; \u0026lt;password\u0026gt;123456\u0026lt;/password\u0026gt; \u0026lt;/server\u0026gt; \u0026lt;/servers\u0026gt; åœ¨éœ€è¦æ‰“åŒ…çš„mavenæ¨¡å—ä¸­ï¼Œé…ç½®pomæ–‡ä»¶å†…å®¹ åœ¨mavenå·¥ç¨‹çš„pom.xmlé…ç½®éƒ¨ç½²çš„ä»“åº“ï¼Œæ³¨æ„pom.xmlå’Œsetting.xmlä¸­çš„idå±æ€§è¦ä¸€è‡´\n1 2 3 4 5 6 7 8 9 10 11 12 13 \u0026lt;!-- å‘å¸ƒmavenç§æœ --\u0026gt; \u0026lt;distributionManagement\u0026gt; \u0026lt;repository\u0026gt; \u0026lt;id\u0026gt;nexus-snapshots\u0026lt;/id\u0026gt; \u0026lt;name\u0026gt;shishiyi-framework-SNAPSHOTS\u0026lt;/name\u0026gt; \u0026lt;url\u0026gt;http://127.0.0.1:30010/repository/3rd-part/\u0026lt;/url\u0026gt; // ç§æœä»“åº“å¯¹åº”çš„url \u0026lt;/repository\u0026gt; \u0026lt;snapshotRepository\u0026gt; \u0026lt;id\u0026gt;nexus-repository\u0026lt;/id\u0026gt; \u0026lt;name\u0026gt;shishiyi-framework-REPOSITORY\u0026lt;/name\u0026gt; \u0026lt;url\u0026gt;http://127.0.0.1:30010/repository/3rd-part/\u0026lt;/url\u0026gt; \u0026lt;/snapshotRepository\u0026gt; \u0026lt;/distributionManagement\u0026gt; ä½¿ç”¨deployå‘½ä»¤ä¸Šä¼  mvn source:jar deploy -Dmaven.test.skip=true\né¡¹ç›®è·å–ç§æœä»“åº“ä¸­çš„åŒ… åœ¨é¡¹ç›®æ ¹éƒ¨çš„pomæ–‡ä»¶ä¸­æ·»åŠ ä¸‹åˆ—å†…å®¹\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 \u0026lt;!-- è¿œç¨‹nexusä»“åº“ --\u0026gt; \u0026lt;repositories\u0026gt; \u0026lt;repository\u0026gt; \u0026lt;id\u0026gt;nexus-snapshots\u0026lt;/id\u0026gt; \u0026lt;url\u0026gt;http://127.0.0.1:30010/repository/3rd-part/\u0026lt;/url\u0026gt; \u0026lt;/repository\u0026gt; \u0026lt;repository\u0026gt; \u0026lt;id\u0026gt;nexus-repository\u0026lt;/id\u0026gt; \u0026lt;url\u0026gt;http://127.0.0.1:30010/repository/3rd-part/\u0026lt;/url\u0026gt; \u0026lt;/repository\u0026gt; \u0026lt;/repositories\u0026gt; \u0026lt;pluginRepositories\u0026gt; \u0026lt;pluginRepository\u0026gt; \u0026lt;id\u0026gt;nexus-snapshots\u0026lt;/id\u0026gt; \u0026lt;url\u0026gt;http://127.0.0.1:30010/repository/3rd-part/\u0026lt;/url\u0026gt; \u0026lt;/pluginRepository\u0026gt; \u0026lt;pluginRepository\u0026gt; \u0026lt;id\u0026gt;nexus-repository\u0026lt;/id\u0026gt; \u0026lt;url\u0026gt;http://127.0.0.1:30010/repository/3rd-part/\u0026lt;/url\u0026gt; \u0026lt;/pluginRepository\u0026gt; \u0026lt;/pluginRepositories\u0026gt; ","permalink":"http://shaoyi.cc/posts/blog/maven%E7%A7%81%E6%9C%8D/maven-%E7%A7%81%E6%9C%8D/","summary":"é¡¹ç›®æ‰“åŒ…åˆ°Maven ç§æœ é…ç½®Maven é…ç½®ç§æœä»“åº“çš„ç”¨æˆ·å’Œå¯†ç  åœ¨mavenå®‰è£…ç›®å½• /conf/setting.xml ä¸­çš„serversä¸‹æ·»åŠ  1 2 3 4 5 6 7 8 9 10 11 12 \u0026lt;servers\u0026gt; \u0026lt;server\u0026gt; \u0026lt;id\u0026gt;nexus-snapshots\u0026lt;/id\u0026gt; \u0026lt;username\u0026gt;admin\u0026lt;/username\u0026gt;","title":"Maven ç§æœ"},{"content":"Jenkinsæ„å»º å‰ç«¯æ„å»º åˆ›å»ºä¸€ä¸ªã€è‡ªç”±é£æ ¼ã€‘çš„ä»»åŠ¡ ç‚¹å‡»ã€æºç ç®¡ç†ã€‘ å¡«å†™ï¼ˆé€‰æ‹©ï¼‰é¡¹ç›®ä»“åº“çš„åœ°å€å’Œç”¨æˆ·\næŒ‡å®šè¦æ„å»ºçš„ç‰ˆæœ¬ï¼Œå³é¡¹ç›®ä»“åº“çš„è¿œç¨‹ç‰ˆæœ¬å·\né€‰æ‹©nodejsç‰ˆæœ¬ å¦‚æœæ²¡æœ‰é€‰é¡¹ï¼Œè¯´æ˜å½“å‰jenkins æ²¡æœ‰å®‰è£…\nå¡«å†™æ„å»ºçš„å‘½ä»¤ è¿™ä¸ªå‘½ä»¤å–å†³äºå…·ä½“å·¥ç¨‹ï¼Œå’Œæœ¬åœ°ç¬¬ä¸€æ¬¡æ‰§è¡Œå‘½ä»¤åŸºæœ¬ä¸€è‡´\nä¾‹å¦‚ï¼šnode -v \u0026amp;\u0026amp; npm install -g yarn@1.22.19 \u0026amp;\u0026amp; yarn -v \u0026amp;\u0026amp; yarn install \u0026ndash;pure-lockfile \u0026amp;\u0026amp; yarn run build \u0026amp;\u0026amp; cd dist \u0026amp;\u0026amp; tar -zcvf dist.tar.gz *\nä¸Šè¿°ä¾‹å­æ„æ€å¤§è‡´ä¸ºï¼Œè·å–é¡¹ç›®ä¾èµ–ï¼Œå¹¶æ‰“åŒ…æ„å»ºï¼Œç„¶åæŠŠæ‰“å¥½çš„åŒ…å‹ç¼©\nä¼ è¾“æ‰“åŒ…çš„æ–‡ä»¶åˆ°æŒ‡å®šæœåŠ¡å™¨ ã€SSH Serverã€‘ï¼šé€‰æ‹©è¦ä¼ è¾“æ–‡ä»¶çš„æœåŠ¡å™¨\nTransfers\nã€Source filesã€‘ï¼šå†™ä½ è¦ä¼ è¾“çš„æ–‡ä»¶è·¯å¾„ ã€Remove prefixã€‘ï¼šè¦å»æ‰çš„å‰ç¼€ï¼Œä¸å†™è¿œç¨‹æœåŠ¡å™¨çš„ç›®å½•ç»“æ„å°†å’ŒSource fileså†™çš„ä¸€è‡´ ã€Remote directoryã€‘ï¼šå†™ä½ è¦éƒ¨ç½²åœ¨è¿œç¨‹æœåŠ¡å™¨çš„é‚£ä¸ªç›®å½•åœ°å€ä¸‹ï¼Œä¸å†™å°±æ˜¯SSH Serversé…ç½®é‡Œé»˜è®¤è¿œç¨‹ç›®å½• ã€Exec commandã€‘ï¼šä¼ è¾“å®Œäº†è¦æ‰§è¡Œçš„å‘½ä»¤ï¼Œå›¾ä¸­ä¾‹å­æ˜¯ è¿›å…¥ç›®å½•,è§£å‹ç¼©,è§£å‹ç¼©å®Œæˆååˆ é™¤å‹ç¼©åŒ…ä¸‰ä¸ªå‘½ä»¤ åç«¯æ„å»º åˆ›å»ºmavenä»»åŠ¡ ä»»åŠ¡çš„å…¨å±€è®¾ç½® æŒ‡å®šjdkç‰ˆæœ¬ ç‚¹å‡»ã€æºç ç®¡ç†ã€‘ å¡«å†™ï¼ˆé€‰æ‹©ï¼‰é¡¹ç›®ä»“åº“çš„åœ°å€å’Œç”¨æˆ·\næŒ‡å®šè¦æ„å»ºçš„ç‰ˆæœ¬ï¼Œå³é¡¹ç›®ä»“åº“çš„è¿œç¨‹ç‰ˆæœ¬å·\næ„å»ºæ—¶ï¼ŒæŒ‡å®špomæ–‡ä»¶ è·³è¿‡æµ‹è¯•æ„å»ºï¼ˆéå¿…é¡»ï¼‰ è®¾ç½®åªç”¨æ„å»ºæˆåŠŸçš„åŒ… ä¼ è¾“æ‰“åŒ…çš„æ–‡ä»¶åˆ°æŒ‡å®šæœåŠ¡å™¨ ã€SSH Serverã€‘ï¼šé€‰æ‹©è¦ä¼ è¾“æ–‡ä»¶çš„æœåŠ¡å™¨\nTransfers\nã€Source filesã€‘ï¼šå†™ä½ è¦ä¼ è¾“çš„æ–‡ä»¶è·¯å¾„ ã€Remove prefixã€‘ï¼šè¦å»æ‰çš„å‰ç¼€ï¼Œä¸å†™è¿œç¨‹æœåŠ¡å™¨çš„ç›®å½•ç»“æ„å°†å’ŒSource fileså†™çš„ä¸€è‡´ ã€Remote directoryã€‘ï¼šå†™ä½ è¦éƒ¨ç½²åœ¨è¿œç¨‹æœåŠ¡å™¨çš„é‚£ä¸ªç›®å½•åœ°å€ä¸‹ï¼Œä¸å†™å°±æ˜¯SSH Serversé…ç½®é‡Œé»˜è®¤è¿œç¨‹ç›®å½• ã€Exec commandã€‘ï¼šä¼ è¾“å®Œäº†è¦æ‰§è¡Œçš„å‘½ä»¤ Jenkinsè‡ªåŠ¨åŒ–æ„å»ºï¼ˆé’©å­ï¼‰ è®¾ç½®è§¦å‘è‡ªåŠ¨åŒ–æ„å»ºçš„æ¡ä»¶ ä¸‹å›¾æ¡†ä¸­éƒ¨åˆ†ä¸ºè§¦å‘è‡ªåŠ¨æ„å»ºçš„æ¡ä»¶ï¼Œæœ¬ä¾‹å­è§¦å‘æ¡ä»¶çš„ä¸ºã€æäº¤äº‹ä»¶ã€‘\nè®¾ç½®åˆ†æ”¯è¿‡æ»¤ æœ¬ä¾‹æ²¡æœ‰åšé™åˆ¶\nGitLabè®¾ç½® å¤åˆ¶URL\nç‚¹å‡»GenerateæŒ‰é’®ï¼Œtokenå°±ä¼šè‡ªåŠ¨ç”ŸæˆSecret token\nURLå’ŒSecret tokenï¼Œè®¾ç½®åœ¨å¯¹åº”çš„ä»“åº“ä¸­ æµ‹è¯• GitLabé¡µé¢æç¤ºä¸‹å›¾å†…å®¹ï¼Œåˆ™æˆåŠŸè§¦å‘Jenkinsæ„å»ºä»»åŠ¡ Jenkinsæ„å»ºå†å²å·²æœ‰è®°å½• é¡¹ç›®é…ç½®ç§æœ ä»“åº“setting.xmlæ–‡ä»¶é…ç½®ç§æœç”¨æˆ·å¯†ç  ç”±äºjenkinsæ˜¯dockeréƒ¨ç½²çš„ï¼Œä¼šç‰µæ‰¯åˆ°ä¸€ä¸ªè®¿é—®åœ°å€\nå¦‚æœæ˜¯æœ¬åœ°è·å–ç§æœåŒ…ï¼Œåˆ™éœ€è¦åœ¨é¡¹ç›®çš„æ ¹éƒ¨pom.xml é…ç½®ç§æœåœ°å€ æ³¨ï¼šidè¦å’Œsetting.xmlæ–‡ä»¶ä¸­ä¸€è‡´\nå¦‚æœæ˜¯Jenkinsæ„å»ºï¼Œåˆ™éœ€è¦æŠŠé¡¹ç›®çš„æ ¹éƒ¨pom.xml æ”¹æˆä¸‹å›¾ä¸­çš„ip\n","permalink":"http://shaoyi.cc/posts/blog/jenkins%E6%9E%84%E5%BB%BA/jenkins-%E6%9E%84%E5%BB%BA/","summary":"Jenkinsæ„å»º å‰ç«¯æ„å»º åˆ›å»ºä¸€ä¸ªã€è‡ªç”±é£æ ¼ã€‘çš„ä»»åŠ¡ ç‚¹å‡»ã€æºç ç®¡ç†ã€‘ å¡«å†™ï¼ˆé€‰æ‹©ï¼‰é¡¹ç›®ä»“åº“çš„åœ°å€å’Œç”¨æˆ· æŒ‡å®šè¦æ„å»ºçš„ç‰ˆæœ¬ï¼Œå³é¡¹ç›®ä»“åº“çš„è¿œç¨‹ç‰ˆæœ¬å·","title":"Jenkinséƒ¨ç½²"},{"content":"å…³äºæˆ‘\n","permalink":"http://shaoyi.cc/about/","summary":"å…³äºæˆ‘","title":"ğŸ™‹ğŸ»â€â™‚ï¸å…³äº"}]